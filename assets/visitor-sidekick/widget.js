function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r={exports:{}},o={};var i,l,a=(n||(n=1,r.exports=function(){if(t)return o;t=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(t,n,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:o,ref:void 0!==n?n:null,props:r}}return o.Fragment=n,o.jsx=r,o.jsxs=r,o}()),r.exports),s={exports:{}},u={};function c(){if(i)return u;i=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function E(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=E.prototype=new b;S.constructor=E,g(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray;function _(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function I(t,n,r){var o=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==o?o:null,props:r}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var k=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function N(n,r,o,i,l){var a=typeof n;"undefined"!==a&&"boolean"!==a||(n=null);var s,u,c=!1;if(null===n)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;break;case p:return N((c=n._init)(n._payload),r,o,i,l)}}if(c)return l=l(n),c=""===i?"."+O(n,0):i,w(l)?(o="",null!=c&&(o=c.replace(k,"$&/")+"/"),N(l,r,o,"",function(e){return e})):null!=l&&(A(l)&&(s=l,u=o+(null==l.key||n&&n.key===l.key?"":(""+l.key).replace(k,"$&/")+"/")+c,l=I(s.type,u,s.props)),r.push(l)),1;c=0;var d,f=""===i?".":i+":";if(w(n))for(var m=0;m<n.length;m++)c+=N(i=n[m],r,o,a=f+O(i,m),l);else if("function"==typeof(m=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(n=m.call(n),m=0;!(i=n.next()).done;)c+=N(i=i.value,r,o,a=f+O(i,m++),l);else if("object"===a){if("function"==typeof n.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,o,i,l);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",function(e){return t.call(n,e,o++)}),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return u.Activity=f,u.Children=M,u.Component=v,u.Fragment=n,u.Profiler=o,u.PureComponent=E,u.StrictMode=r,u.Suspense=c,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,u.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},u.cache=function(e){return function(){return e.apply(null,arguments)}},u.cacheSignal=function(){return null},u.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!T.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var l=Array(i),a=0;a<i;a++)l[a]=arguments[a+2];r.children=l}return I(e.type,o,r)},u.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},u.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return I(e,i,o)},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:s,render:e}},u.isValidElement=A,u.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:x}},u.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),o=C.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,R)}catch(i){R(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},u.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},u.use=function(e){return C.H.use(e)},u.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},u.useCallback=function(e,t){return C.H.useCallback(e,t)},u.useContext=function(e){return C.H.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},u.useEffect=function(e,t){return C.H.useEffect(e,t)},u.useEffectEvent=function(e){return C.H.useEffectEvent(e)},u.useId=function(){return C.H.useId()},u.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},u.useMemo=function(e,t){return C.H.useMemo(e,t)},u.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},u.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},u.useRef=function(e){return C.H.useRef(e)},u.useState=function(e){return C.H.useState(e)},u.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},u.useTransition=function(){return C.H.useTransition()},u.version="19.2.0",u}function d(){return l||(l=1,s.exports=c()),s.exports}var p=d();const f=e(p);var h,m,g={exports:{}},y={},v={exports:{}},b={};function E(){return m||(m=1,v.exports=(h||(h=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var s=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(s,o)}o=n(u)}}function S(e){if(m=!1,E(e),!h)if(null!==n(s))h=!0,_||(_=!0,w());else{var t=n(u);null!==t&&P(S,t.startTime-e)}}var w,_=!1,C=-1,T=5,I=-1;function A(){return!(!g&&e.unstable_now()-I<T)}function k(){if(g=!1,_){var t=e.unstable_now();I=t;var o=!0;try{e:{h=!1,m&&(m=!1,v(C),C=-1),f=!0;var i=p;try{t:{for(E(t),d=n(s);null!==d&&!(d.expirationTime>t&&A());){var l=d.callback;if("function"==typeof l){d.callback=null,p=d.priorityLevel;var a=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,E(t),o=!0;break t}d===n(s)&&r(s),E(t)}else r(s);d=n(s)}if(null!==d)o=!0;else{var c=n(u);null!==c&&P(S,c.startTime-t),o=!1}}break e}finally{d=null,p=i,f=!1}o=void 0}}finally{o?w():_=!1}}}if("function"==typeof b)w=function(){b(k)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=k,w=function(){N.postMessage(null)}}else w=function(){y(k,0)};function P(t,n){C=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,i){var l=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,t(u,r),null===n(s)&&r===n(u)&&(m?(v(C),C=-1):m=!0,P(S,i-l))):(r.sortIndex=a,t(s,r),h||f||(h=!0,_||(_=!0,w()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(b)),b)),v.exports}var S,w,_,C,T={exports:{}},I={};function A(){if(S)return I;S=1;var e=d();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return I.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,I.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},I.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},I.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},I.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},I.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:a}):"script"===n&&r.d.X(e,{crossOrigin:o,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},I.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},I.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},I.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},I.requestFormReset=function(e){r.d.r(e)},I.unstable_batchedUpdates=function(e,t){return e(t)},I.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},I.useFormStatus=function(){return i.H.useHostTransitionStatus()},I.version="19.2.0",I}function k(){if(_)return y;_=1;var e=E(),t=d(),n=(w||(w=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),T.exports=A()),T.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function a(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function s(e){if(i(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case S:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var U=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},H=[],G=-1;function z(e){return{current:e}}function V(e){0>G||(e.current=H[G],H[G]=null,G--)}function B(e,t){G++,H[G]=e.current,e.current=t}var J,$,W=z(null),Y=z(null),K=z(null),Q=z(null);function X(e,t){switch(B(K,t),B(Y,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=Sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(W),B(W,e)}function Z(){V(W),V(Y),V(K)}function ee(e){null!==e.memoizedState&&B(Q,e);var t=W.current,n=wd(t,e.type);t!==n&&(B(Y,e),B(W,n))}function te(e){Y.current===e&&(V(W),V(Y)),Q.current===e&&(V(Q),hp._currentValue=j)}function ne(e){if(void 0===J)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);J=t&&t[1]||"",$=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+J+e+$}var re=!1;function oe(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{re=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ne(n):""}function ie(e,t){switch(e.tag){case 26:case 27:case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return e.child!==t&&null!==t?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return oe(e.type,!1);case 11:return oe(e.type.render,!1);case 1:return oe(e.type,!0);case 31:return ne("Activity");default:return""}}function le(e){try{var t="",n=null;do{t+=ie(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ae=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,ce=e.unstable_shouldYield,de=e.unstable_requestPaint,pe=e.unstable_now,fe=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,ge=e.unstable_NormalPriority,ye=e.unstable_LowPriority,ve=e.unstable_IdlePriority,be=e.log,Ee=e.unstable_setDisableYieldValue,Se=null,we=null;function _e(e){if("function"==typeof be&&Ee(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(Se,e)}catch(t){}}var Ce=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Te(e)/Ie|0)|0},Te=Math.log,Ie=Math.LN2;var Ae=256,ke=262144,Oe=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Ne(r):0!==(l&=a)?o=Ne(l):n||0!==(n=a&~e)&&(o=Ne(n)):0!==(a=r&~i)?o=Ne(a):0!==l?o=Ne(l):n||0!==(n=r&~e)&&(o=Ne(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Me(){var e=Oe;return!(62914560&(Oe<<=1))&&(Oe=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ue(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ce(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function qe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ce(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fe(e,t){var n=t&-t;return 0!==((n=42&n?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function He(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ge(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:Np(e.type)}function ze(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var Ve=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ve,Je="__reactProps$"+Ve,$e="__reactContainer$"+Ve,We="__reactEvents$"+Ve,Ye="__reactListeners$"+Ve,Ke="__reactHandles$"+Ve,Qe="__reactResources$"+Ve,Xe="__reactMarker$"+Ve;function Ze(e){delete e[Be],delete e[Je],delete e[We],delete e[Ye],delete e[Ke]}function et(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jd(e);null!==e;){if(n=e[Be])return n;e=jd(e)}return t}n=(e=n).parentNode}return null}function tt(e){if(e=e[Be]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function nt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function rt(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Xe]=!0}var it=new Set,lt={};function at(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(lt[e]=t,e=0;e<t.length;e++)it.add(t[e])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ct={},dt={};function pt(e,t,n){if(o=t,ae.call(dt,o)||!ae.call(ct,o)&&(ut.test(o)?dt[o]=!0:(ct[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ft(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function gt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function yt(e){if(!e._valueTracker){var t=gt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function bt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Et=/[\n"\\]/g;function St(e){return e.replace(Et,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?Ct(e,l,mt(t)):null!=n?Ct(e,l,mt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+mt(a):e.removeAttribute("name")}function _t(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void yt(e);n=null!=n?""+mt(n):"",t=null!=t?""+mt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),yt(e)}function Ct(e,t,n){"number"===t&&bt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Tt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function It(e,t,n){null==t||((t=""+mt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+mt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(r(92));if(U(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=mt(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o),yt(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ot.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&Nt(e,i,o)}else for(var l in t)t.hasOwnProperty(l)&&Nt(e,l,t[l])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var Ut=null;function qt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ft=null,jt=null;function Ht(e){var t=tt(e);if(t&&(e=t.stateNode)){var n=e[Je]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[Je]||null;if(!i)throw Error(r(90));wt(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&vt(o)}break e;case"textarea":It(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Tt(e,!!n.multiple,t,!1)}}}var Gt=!1;function zt(e,t,n){if(Gt)return e(t,n);Gt=!0;try{return e(t)}finally{if(Gt=!1,(null!==Ft||null!==jt)&&(rc(),Ft&&(t=Ft,e=jt,jt=Ft=null,Ht(t),e)))for(t=0;t<e.length;t++)Ht(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[Je]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Jt=!1;if(Bt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Jt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(tf){Jt=!1}var Wt=null,Yt=null,Kt=null;function Qt(){if(Kt)return Kt;var e,t,n=Yt,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return Kt=o.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Zt:en,this.isPropagationStopped=en,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=tn(ln),sn=c({},ln,{view:0,detail:0}),un=tn(sn),cn=c({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),dn=tn(cn),pn=tn(c({},cn,{dataTransfer:0})),fn=tn(c({},sn,{relatedTarget:0})),hn=tn(c({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=tn(c({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gn=tn(c({},ln,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function Sn(){return En}var wn=tn(c({},sn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=tn(c({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=tn(c({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=tn(c({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=tn(c({},cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=tn(c({},ln,{newState:0,oldState:0})),kn=[9,13,27,32],On=Bt&&"CompositionEvent"in window,Nn=null;Bt&&"documentMode"in document&&(Nn=document.documentMode);var Pn=Bt&&"TextEvent"in window&&!Nn,xn=Bt&&(!On||Nn&&8<Nn&&11>=Nn),Rn=String.fromCharCode(32),Mn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function jn(e,t,n,r){Ft?jt?jt.push(r):jt=[r]:Ft=r,0<(t=ad(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function zn(e){Zc(e,0)}function Vn(e){if(vt(nt(e)))return e}function Bn(e,t){if("change"===e)return t}var Jn=!1;if(Bt){var $n;if(Bt){var Wn="oninput"in document;if(!Wn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Wn="function"==typeof Yn.oninput}$n=Wn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function Kn(){Hn&&(Hn.detachEvent("onpropertychange",Qn),Gn=Hn=null)}function Qn(e){if("value"===e.propertyName&&Vn(Gn)){var t=[];jn(t,Gn,e,qt(e)),zt(zn,t)}}function Xn(e,t,n){"focusin"===e?(Kn(),Gn=n,(Hn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Kn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Gn)}function er(e,t){if("click"===e)return Vn(t)}function tr(e,t){if("input"===e||"change"===e)return Vn(t)}var nr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function rr(e,t){if(nr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ae.call(t,o)||!nr(e[o],t[o]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=bt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=bt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ur=Bt&&"documentMode"in document&&11>=document.documentMode,cr=null,dr=null,pr=null,fr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==cr||cr!==bt(r)||("selectionStart"in(r=cr)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&rr(pr,r)||(pr=r,0<(r=ad(dr,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},yr={},vr={};function br(e){if(yr[e])return yr[e];if(!gr[e])return e;var t,n=gr[e];for(t in n)if(n.hasOwnProperty(t)&&t in vr)return yr[e]=n[t];return e}Bt&&(vr=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);var Er=br("animationend"),Sr=br("animationiteration"),wr=br("animationstart"),_r=br("transitionrun"),Cr=br("transitionstart"),Tr=br("transitioncancel"),Ir=br("transitionend"),Ar=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),at(t,[e])}kr.push("scrollEnd");var Nr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Pr=[],xr=0,Rr=0;function Mr(){for(var e=xr,t=Rr=xr=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var o=Pr[t];Pr[t++]=null;var i=Pr[t];if(Pr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&qr(n,o,i)}}function Dr(e,t,n,r){Pr[xr++]=e,Pr[xr++]=t,Pr[xr++]=n,Pr[xr++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Dr(e,t,n,r),Fr(e)}function Ur(e,t){return Dr(e,null,null,t),Fr(e)}function qr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-Ce(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Fr(e){if(50<Wu)throw Wu=0,Yu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,n,r){return new Hr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Gr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jr(e,t,n,o,i,l){var a=0;if(o=e,"function"==typeof e)zr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Gr(31,n,t,i)).elementType=P,e.lanes=l,e;case m:return $r(n.children,i,l,t);case g:a=8,i|=24;break;case v:return(e=Gr(12,n,t,2|i)).elementType=v,e.lanes=l,e;case I:return(e=Gr(13,n,t,i)).elementType=I,e.lanes=l,e;case k:return(e=Gr(19,n,t,i)).elementType=k,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case b:a=9;break e;case C:a=11;break e;case O:a=14;break e;case N:a=16,o=null;break e}a=29,n=Error(r(130,null===e?"null":typeof e,"")),o=null}return(t=Gr(a,n,t,i)).elementType=e,t.type=o,t.lanes=l,t}function $r(e,t,n,r){return(e=Gr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Gr(6,e,null,t)).lanes=n,e}function Yr(e){var t=Gr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Gr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Xr(e,t){if("object"==typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:le(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:le(t)}}var Zr=[],eo=0,to=null,no=0,ro=[],oo=0,io=null,lo=1,ao="";function so(e,t){Zr[eo++]=no,Zr[eo++]=to,to=e,no=t}function uo(e,t,n){ro[oo++]=lo,ro[oo++]=ao,ro[oo++]=io,io=e;var r=lo;e=ao;var o=32-Ce(r)-1;r&=~(1<<o),n+=1;var i=32-Ce(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,lo=1<<32-Ce(t)+o|n<<o|r,ao=i+e}else lo=1<<i|n<<o|r,ao=e}function co(e){null!==e.return&&(so(e,1),uo(e,1,0))}function po(e){for(;e===to;)to=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null;for(;e===io;)io=ro[--oo],ro[oo]=null,ao=ro[--oo],ro[oo]=null,lo=ro[--oo],ro[oo]=null}function fo(e,t){ro[oo++]=lo,ro[oo++]=ao,ro[oo++]=io,lo=t.id,ao=t.overflow,io=e}var ho=null,mo=null,go=!1,yo=null,vo=!1,bo=Error(r(519));function Eo(e){throw Io(Xr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),bo}function So(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[Je]=r,n){case"dialog":ed("cancel",t),ed("close",t);break;case"iframe":case"object":case"embed":ed("load",t);break;case"video":case"audio":for(n=0;n<Qc.length;n++)ed(Qc[n],t);break;case"source":ed("error",t);break;case"img":case"image":case"link":ed("error",t),ed("load",t);break;case"details":ed("toggle",t);break;case"input":ed("invalid",t),_t(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ed("invalid",t);break;case"textarea":ed("invalid",t),At(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||fd(t.textContent,n)?(null!=r.popover&&(ed("beforetoggle",t),ed("toggle",t)),null!=r.onScroll&&ed("scroll",t),null!=r.onScrollEnd&&ed("scrollend",t),null!=r.onClick&&(t.onclick=Lt),t=!0):t=!1,t||Eo(e,!0)}function wo(e){for(ho=e.return;ho;)switch(ho.tag){case 5:case 31:case 13:return void(vo=!1);case 27:case 3:return void(vo=!0);default:ho=ho.return}}function _o(e){if(e!==ho)return!1;if(!go)return wo(e),go=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&mo&&Eo(e),wo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mo=Fd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mo=Fd(e)}else 27===n?(n=mo,Nd(e.type)?(e=qd,qd=null,mo=e):mo=n):mo=ho?Ud(e.stateNode.nextSibling):null;return!0}function Co(){mo=ho=null,go=!1}function To(){var e=yo;return null!==e&&(null===Mu?Mu=e:Mu.push.apply(Mu,e),yo=null),e}function Io(e){null===yo?yo=[e]:yo.push(e)}var Ao=z(null),ko=null,Oo=null;function No(e,t,n){B(Ao,t._currentValue),t._currentValue=n}function Po(e){e._currentValue=Ao.current,V(Ao)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var l=i.dependencies;if(null!==l){var a=i.child;l=l.firstContext;e:for(;null!==l;){var s=l;l=i;for(var u=0;u<t.length;u++)if(s.context===t[u]){l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),xo(l.return,n,e),o||(a=null);break e}l=s.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Mo(e,t,n,o){e=null;for(var i=t,l=!1;null!==i;){if(!l)if(524288&i.flags)l=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(r(387));if(null!==(a=a.memoizedProps)){var s=i.type;nr(i.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(i===Q.current){if(null===(a=i.alternate))throw Error(r(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hp):e=[hp])}i=i.return}null!==e&&Ro(t,e,n,o),t.flags|=262144}function Do(e){for(e=e.firstContext;null!==e;){if(!nr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lo(e){ko=e,Oo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Uo(e){return Fo(ko,e)}function qo(e,t){return null===ko&&Lo(e),Fo(e,t)}function Fo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Oo){if(null===e)throw Error(r(308));Oo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oo=Oo.next=t;return n}var jo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ho=e.unstable_scheduleCallback,Go=e.unstable_NormalPriority,zo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new jo,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&Ho(Go,function(){e.controller.abort()})}var Jo=null,$o=0,Wo=0,Yo=null;function Ko(){if(0===--$o&&null!==Jo){null!==Yo&&(Yo.status="fulfilled");var e=Jo;Jo=null,Wo=0,Yo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qo=q.S;q.S=function(e,t){Uu=pe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Jo){var n=Jo=[];$o=0,Wo=Jc(),Yo={status:"pending",value:void 0,then:function(e){n.push(e)}}}$o++,t.then(Ko,Ko)}(0,t),null!==Qo&&Qo(e,t)};var Xo=z(null);function Zo(){var e=Xo.current;return null!==e?e:vu.pooledCache}function ei(e,t){B(Xo,null===t?Xo.current:t.pool)}function ti(){var e=Zo();return null===e?null:{parent:zo._currentValue,pool:e}}var ni=Error(r(460)),ri=Error(r(474)),oi=Error(r(542)),ii={then:function(){}};function li(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ai(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw di(e=t.reason),e;default:if("string"==typeof t.status)t.then(Lt,Lt);else{if(null!==(e=vu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw di(e=t.reason),e}throw ui=t,ni}}function si(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ui=t,ni;throw t}}var ui=null;function ci(){if(null===ui)throw Error(r(459));var e=ui;return ui=null,e}function di(e){if(e===ni||e===oi)throw Error(r(483))}var pi=null,fi=0;function hi(e){var t=fi;return fi+=1,null===pi&&(pi=[]),ai(pi,e,t)}function mi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function gi(e,t){if(t.$$typeof===p)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===N&&si(o)===t.type)?(mi(t=i(t,n.props),n),t.return=e,t):(mi(t=Jr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=$r(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return mi(n=Jr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Kr(t,e.mode,n)).return=e,t;case N:return p(e,t=si(t),n)}if(U(t)||M(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,hi(t),n);if(t.$$typeof===S)return p(e,qo(e,t),n);gi(e,t)}return null}function g(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?u(e,t,n,r):null;case h:return n.key===o?c(e,t,n,r):null;case N:return g(e,t,n=si(n),r)}if(U(n)||M(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,hi(n),r);if(n.$$typeof===S)return g(e,t,qo(e,n),r);gi(e,n)}return null}function y(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return y(e,t,n,r=si(r),o)}if(U(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return y(e,t,n,hi(r),o);if(r.$$typeof===S)return y(e,t,n,qo(t,r),o);gi(t,r)}return null}function v(s,u,c,d){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===m){if(7===u.tag){n(s,u.sibling),(d=i(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===N&&si(b)===u.type){n(s,u.sibling),mi(d=i(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===m?((d=$r(c.props.children,s.mode,d,c.key)).return=s,s=d):(mi(d=Jr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case h:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=i(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=Kr(c,s.mode,d)).return=s,s=d}return a(s);case N:return v(s,u,c=si(c),d)}if(U(c))return function(r,i,a,s){for(var u=null,c=null,d=i,f=i=0,h=null;null!==d&&f<a.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var m=g(r,d,a[f],s);if(null===m){null===d&&(d=h);break}e&&d&&null===m.alternate&&t(r,d),i=l(m,i,f),null===c?u=m:c.sibling=m,c=m,d=h}if(f===a.length)return n(r,d),go&&so(r,f),u;if(null===d){for(;f<a.length;f++)null!==(d=p(r,a[f],s))&&(i=l(d,i,f),null===c?u=d:c.sibling=d,c=d);return go&&so(r,f),u}for(d=o(d);f<a.length;f++)null!==(h=y(d,r,f,a[f],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),i=l(h,i,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(r,e)}),go&&so(r,f),u}(s,u,c,d);if(M(c)){if("function"!=typeof(b=M(c)))throw Error(r(150));return function(i,a,s,u){if(null==s)throw Error(r(151));for(var c=null,d=null,f=a,h=a=0,m=null,v=s.next();null!==f&&!v.done;h++,v=s.next()){f.index>h?(m=f,f=null):m=f.sibling;var b=g(i,f,v.value,u);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(i,f),a=l(b,a,h),null===d?c=b:d.sibling=b,d=b,f=m}if(v.done)return n(i,f),go&&so(i,h),c;if(null===f){for(;!v.done;h++,v=s.next())null!==(v=p(i,v.value,u))&&(a=l(v,a,h),null===d?c=v:d.sibling=v,d=v);return go&&so(i,h),c}for(f=o(f);!v.done;h++,v=s.next())null!==(v=y(f,i,h,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),a=l(v,a,h),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),go&&so(i,h),c}(s,u,c=b.call(c),d)}if("function"==typeof c.then)return v(s,u,hi(c),d);if(c.$$typeof===S)return v(s,u,qo(s,c),d);gi(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=i(u,c)).return=s,s=d):(n(s,u),(d=Wr(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,r){try{fi=0;var o=v(e,t,n,r);return pi=null,o}catch(l){if(l===ni||l===oi)throw l;var i=Gr(29,l,null,e.mode);return i.lanes=r,i.return=e,i}}}var vi=yi(!0),bi=yi(!1),Ei=!1;function Si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&yu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Fr(e),qr(e,null,n),t}return Dr(e,r,t,n),Fr(e)}function Ti(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,qe(e,n)}}function Ii(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ai=!1;function ki(){if(Ai){if(null!==Yo)throw Yo}}function Oi(e,t,n,r){Ai=!1;var o=e.updateQueue;Ei=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===a?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=s))}if(null!==i){var p=o.baseState;for(l=0,d=u=s=null,a=i;;){var f=-536870913&a.lane,h=f!==a.lane;if(h?(Eu&f)===f:(r&f)===f){0!==f&&f===Wo&&(Ai=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(y,p,f);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,p,f):m))break e;p=c({},p,f);break e;case 2:Ei=!0}}null!==(f=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=h,s=p):d=d.next=h,l|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===d&&(s=p),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=d,null===i&&(o.shared.lanes=0),ku|=l,e.lanes=l,e.memoizedState=p}}function Ni(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ni(n[e],t)}var xi=z(null),Ri=z(0);function Mi(e,t){B(Ri,e=Iu),B(xi,t),Iu=e|t.baseLanes}function Di(){B(Ri,Iu),B(xi,xi.current)}function Li(){Iu=Ri.current,V(xi),V(Ri)}var Ui=z(null),qi=null;function Fi(e){var t=e.alternate;B(Vi,1&Vi.current),B(Ui,e),null===qi&&(null===t||null!==xi.current||null!==t.memoizedState)&&(qi=e)}function ji(e){B(Vi,Vi.current),B(Ui,e),null===qi&&(qi=e)}function Hi(e){22===e.tag?(B(Vi,Vi.current),B(Ui,e),null===qi&&(qi=e)):Gi()}function Gi(){B(Vi,Vi.current),B(Ui,Ui.current)}function zi(e){V(Ui),qi===e&&(qi=null),V(Vi)}var Vi=z(0);function Bi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dd(n)||Ld(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ji=0,$i=null,Wi=null,Yi=null,Ki=!1,Qi=!1,Xi=!1,Zi=0,el=0,tl=null,nl=0;function rl(){throw Error(r(321))}function ol(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function il(e,t,n,r,o,i){return Ji=i,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=null===e||null===e.memoizedState?Ea:Sa,Xi=!1,i=n(r,o),Xi=!1,Qi&&(i=al(t,n,r,o)),ll(e),i}function ll(e){q.H=ba;var t=null!==Wi&&null!==Wi.next;if(Ji=0,Yi=Wi=$i=null,Ki=!1,el=0,tl=null,t)throw Error(r(300));null===e||Ua||null!==(e=e.dependencies)&&Do(e)&&(Ua=!0)}function al(e,t,n,o){$i=e;var i=0;do{if(Qi&&(tl=null),el=0,Qi=!1,25<=i)throw Error(r(301));if(i+=1,Yi=Wi=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}q.H=wa,l=t(n,o)}while(Qi);return l}function sl(){var e=q.H,t=e.useState()[0];return t="function"==typeof t.then?hl(t):t,e=e.useState()[0],(null!==Wi?Wi.memoizedState:null)!==e&&($i.flags|=1024),t}function ul(){var e=0!==Zi;return Zi=0,e}function cl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dl(e){if(Ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ki=!1}Ji=0,Yi=Wi=$i=null,Qi=!1,el=Zi=0,tl=null}function pl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yi?$i.memoizedState=Yi=e:Yi=Yi.next=e,Yi}function fl(){if(null===Wi){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Yi?$i.memoizedState:Yi.next;if(null!==t)Yi=t,Wi=e;else{if(null===e){if(null===$i.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Yi?$i.memoizedState=Yi=e:Yi=Yi.next=e}return Yi}function hl(e){var t=el;return el+=1,null===tl&&(tl=[]),e=ai(tl,e,t),t=$i,null===(null===Yi?t.memoizedState:Yi.next)&&(t=t.alternate,q.H=null===t||null===t.memoizedState?Ea:Sa),e}function ml(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return hl(e);if(e.$$typeof===S)return Uo(e)}throw Error(r(438,String(e)))}function gl(e){var t=null,n=$i.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=$i.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function yl(e,t){return"function"==typeof t?t(e):t}function vl(e){return bl(fl(),Wi,e)}function bl(e,t,n){var o=e.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=n;var i=e.baseQueue,l=o.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}t.baseQueue=i=l,o.pending=null}if(l=e.baseState,null===i)e.memoizedState=l;else{var s=a=null,u=null,c=t=i.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(Eu&p)===p:(Ji&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Wo&&(d=!0);else{if((Ji&f)===f){c=c.next,f===Wo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=l):u=u.next=p,$i.lanes|=f,ku|=f}p=c.action,Xi&&n(l,p),l=c.hasEagerState?c.eagerState:n(l,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=l):u=u.next=f,$i.lanes|=p,ku|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=l:u.next=s,!nr(l,e.memoizedState)&&(Ua=!0,d&&null!==(n=Yo)))throw n;e.memoizedState=l,e.baseState=a,e.baseQueue=u,o.lastRenderedState=l}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function El(e){var t=fl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{l=e(l,a.action),a=a.next}while(a!==i);nr(l,t.memoizedState)||(Ua=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,o]}function Sl(e,t,n){var o=$i,i=fl(),l=go;if(l){if(void 0===n)throw Error(r(407));n=n()}else n=t();var a=!nr((Wi||i).memoizedState,n);if(a&&(i.memoizedState=n,Ua=!0),i=i.queue,Jl(Cl.bind(null,o,i,e),[e]),i.getSnapshot!==t||a||null!==Yi&&1&Yi.memoizedState.tag){if(o.flags|=2048,Hl(9,{destroy:void 0},_l.bind(null,o,i,n,t),null),null===vu)throw Error(r(349));l||127&Ji||wl(o,t,n)}return n}function wl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$i.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _l(e,t,n,r){t.value=n,t.getSnapshot=r,Tl(t)&&Il(e)}function Cl(e,t,n){return n(function(){Tl(t)&&Il(e)})}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch(r){return!0}}function Il(e){var t=Ur(e,2);null!==t&&Xu(t,e,2)}function Al(e){var t=pl();if("function"==typeof e){var n=e;if(e=n(),Xi){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t}function kl(e,t,n,r){return e.baseState=n,bl(e,Wi,"function"==typeof r?r:yl)}function Ol(e,t,n,o,i){if(ga(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==q.T?n(!0):l.isTransition=!1,o(l),null===(n=t.pending)?(l.next=t.pending=l,Nl(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Nl(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=q.T,l={};q.T=l;try{var a=n(o,r),s=q.S;null!==s&&s(l,a),Pl(e,t,a)}catch(u){Rl(e,t,u)}finally{null!==i&&null!==l.types&&(i.types=l.types),q.T=i}}else try{Pl(e,t,i=n(o,r))}catch(c){Rl(e,t,c)}}function Pl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){xl(e,t,n)},function(n){return Rl(e,t,n)}):xl(e,t,n)}function xl(e,t,n){t.status="fulfilled",t.value=n,Ml(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Nl(e,n)))}function Rl(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ml(t),t=t.next}while(t!==r)}e.action=null}function Ml(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dl(e,t){return t}function Ll(e,t){if(go){var n=vu.formState;if(null!==n){e:{var r=$i;if(go){if(mo){t:{for(var o=mo,i=vo;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Ud(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){mo=Ud(o.nextSibling),r="F!"===o.data;break e}}Eo(r)}r=!1}r&&(t=n[0])}}return(n=pl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},n.queue=r,n=fa.bind(null,$i,r),r.dispatch=n,r=Al(!1),i=ma.bind(null,$i,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=pl()).queue=o,n=Ol.bind(null,$i,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ul(e){return ql(fl(),Wi,e)}function ql(e,t,n){if(t=bl(e,t,Dl)[0],e=vl(yl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=hl(t)}catch(l){if(l===ni)throw oi;throw l}else r=t;var o=(t=fl()).queue,i=o.dispatch;return n!==t.memoizedState&&($i.flags|=2048,Hl(9,{destroy:void 0},Fl.bind(null,o,n),null)),[r,i,e]}function Fl(e,t){e.action=t}function jl(e){var t=fl(),n=Wi;if(null!==n)return ql(t,n,e);fl(),t=t.memoizedState;var r=(n=fl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Hl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=$i.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gl(){return fl().memoizedState}function zl(e,t,n,r){var o=pl();$i.flags|=e,o.memoizedState=Hl(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vl(e,t,n,r){var o=fl();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Wi&&null!==r&&ol(r,Wi.memoizedState.deps)?o.memoizedState=Hl(t,i,n,r):($i.flags|=e,o.memoizedState=Hl(1|t,i,n,r))}function Bl(e,t){zl(8390656,8,e,t)}function Jl(e,t){Vl(2048,8,e,t)}function $l(e){var t=fl().memoizedState;return function(e){$i.flags|=4;var t=$i.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&yu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Wl(e,t){return Vl(4,2,e,t)}function Yl(e,t){return Vl(4,4,e,t)}function Kl(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ql(e,t,n){n=null!=n?n.concat([e]):null,Vl(4,4,Kl.bind(null,t,e),n)}function Xl(){}function Zl(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ol(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ea(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ol(t,r[1]))return r[0];if(r=e(),Xi){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function ta(e,t,n){return void 0===n||1073741824&Ji&&!(261930&Eu)?e.memoizedState=t:(e.memoizedState=n,e=Qu(),$i.lanes|=e,ku|=e,n)}function na(e,t,n,r){return nr(n,t)?n:null!==xi.current?(e=ta(e,n,r),nr(e,t)||(Ua=!0),e):42&Ji&&(!(1073741824&Ji)||261930&Eu)?(e=Qu(),$i.lanes|=e,ku|=e,t):(Ua=!0,e.memoizedState=n)}function ra(e,t,n,r,o){var i=F.p;F.p=0!==i&&8>i?i:8;var l,a,s,u=q.T,c={};q.T=c,ma(e,!1,t,n);try{var d=o(),p=q.S;if(null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)ha(e,t,(l=r,a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){s.status="fulfilled",s.value=l;for(var e=0;e<a.length;e++)(0,a[e])(l)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s),Ku());else ha(e,t,r,Ku())}catch(f){ha(e,t,{then:function(){},status:"rejected",reason:f},Ku())}finally{F.p=i,null!==u&&null!==c.types&&(u.types=c.types),q.T=u}}function oa(){}function ia(e,t,n,o){if(5!==e.tag)throw Error(r(476));var i=la(e).queue;ra(e,i,t,j,null===n?oa:function(){return aa(e),n(o)})}function la(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function aa(e){var t=la(e);null===t.next&&(t=e.alternate.memoizedState),ha(e,t.next.queue,{},Ku())}function sa(){return Uo(hp)}function ua(){return fl().memoizedState}function ca(){return fl().memoizedState}function da(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ku(),r=Ci(t,e=_i(n),n);return null!==r&&(Xu(r,t,n),Ti(r,t,n)),t={cache:Vo()},void(e.payload=t)}t=t.return}}function pa(e,t,n){var r=Ku();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ga(e)?ya(t,n):null!==(n=Lr(e,t,n,r))&&(Xu(n,e,r),va(n,t,r))}function fa(e,t,n){ha(e,t,n,Ku())}function ha(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ga(e))ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,nr(a,l))return Dr(e,t,o,0),null===vu&&Mr(),!1}catch(s){}if(null!==(n=Lr(e,t,o,r)))return Xu(n,e,r),va(n,t,r),!0}return!1}function ma(e,t,n,o){if(o={lane:2,revertLane:Jc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ga(e)){if(t)throw Error(r(479))}else null!==(t=Lr(e,n,o,2))&&Xu(t,e,2)}function ga(e){var t=e.alternate;return e===$i||null!==t&&t===$i}function ya(e,t){Qi=Ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function va(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,qe(e,n)}}var ba={readContext:Uo,use:ml,useCallback:rl,useContext:rl,useEffect:rl,useImperativeHandle:rl,useLayoutEffect:rl,useInsertionEffect:rl,useMemo:rl,useReducer:rl,useRef:rl,useState:rl,useDebugValue:rl,useDeferredValue:rl,useTransition:rl,useSyncExternalStore:rl,useId:rl,useHostTransitionStatus:rl,useFormState:rl,useActionState:rl,useOptimistic:rl,useMemoCache:rl,useCacheRefresh:rl};ba.useEffectEvent=rl;var Ea={readContext:Uo,use:ml,useCallback:function(e,t){return pl().memoizedState=[e,void 0===t?null:t],e},useContext:Uo,useEffect:Bl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,zl(4194308,4,Kl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=pl();t=void 0===t?null:t;var r=e();if(Xi){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=pl();if(void 0!==n){var o=n(t);if(Xi){_e(!0);try{n(t)}finally{_e(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=pa.bind(null,$i,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},pl().memoizedState=e},useState:function(e){var t=(e=Al(e)).queue,n=fa.bind(null,$i,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xl,useDeferredValue:function(e,t){return ta(pl(),e,t)},useTransition:function(){var e=Al(!1);return e=ra.bind(null,$i,e.queue,!0,!1),pl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=$i,i=pl();if(go){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===vu)throw Error(r(349));127&Eu||wl(o,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Bl(Cl.bind(null,o,l,e),[e]),o.flags|=2048,Hl(9,{destroy:void 0},_l.bind(null,o,l,n,t),null),n},useId:function(){var e=pl(),t=vu.identifierPrefix;if(go){var n=ao;t="_"+t+"R_"+(n=(lo&~(1<<32-Ce(lo)-1)).toString(32)+n),0<(n=Zi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=nl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sa,useFormState:Ll,useActionState:Ll,useOptimistic:function(e){var t=pl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ma.bind(null,$i,!0,n),n.dispatch=t,[e,t]},useMemoCache:gl,useCacheRefresh:function(){return pl().memoizedState=da.bind(null,$i)},useEffectEvent:function(e){var t=pl(),n={impl:e};return t.memoizedState=n,function(){if(2&yu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Sa={readContext:Uo,use:ml,useCallback:Zl,useContext:Uo,useEffect:Jl,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:Yl,useMemo:ea,useReducer:vl,useRef:Gl,useState:function(){return vl(yl)},useDebugValue:Xl,useDeferredValue:function(e,t){return na(fl(),Wi.memoizedState,e,t)},useTransition:function(){var e=vl(yl)[0],t=fl().memoizedState;return["boolean"==typeof e?e:hl(e),t]},useSyncExternalStore:Sl,useId:ua,useHostTransitionStatus:sa,useFormState:Ul,useActionState:Ul,useOptimistic:function(e,t){return kl(fl(),0,e,t)},useMemoCache:gl,useCacheRefresh:ca};Sa.useEffectEvent=$l;var wa={readContext:Uo,use:ml,useCallback:Zl,useContext:Uo,useEffect:Jl,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:Yl,useMemo:ea,useReducer:El,useRef:Gl,useState:function(){return El(yl)},useDebugValue:Xl,useDeferredValue:function(e,t){var n=fl();return null===Wi?ta(n,e,t):na(n,Wi.memoizedState,e,t)},useTransition:function(){var e=El(yl)[0],t=fl().memoizedState;return["boolean"==typeof e?e:hl(e),t]},useSyncExternalStore:Sl,useId:ua,useHostTransitionStatus:sa,useFormState:jl,useActionState:jl,useOptimistic:function(e,t){var n=fl();return null!==Wi?kl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gl,useCacheRefresh:ca};function _a(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wa.useEffectEvent=$l;var Ca={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ku(),o=_i(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ci(e,o,r))&&(Xu(t,e,r),Ti(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ku(),o=_i(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ci(e,o,r))&&(Xu(t,e,r),Ti(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ku(),r=_i(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ci(e,r,n))&&(Xu(t,e,n),Ti(t,e,n))}};function Ta(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!rr(n,r)||!rr(o,i))}function Ia(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ca.enqueueReplaceState(t,t.state,null)}function Aa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=c({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function ka(e){Nr(e)}function Oa(e){console.error(e)}function Na(e){Nr(e)}function Pa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ra(e,t,n){return(n=_i(n)).tag=3,n.payload={element:null},n.callback=function(){Pa(e,t)},n}function Ma(e){return(e=_i(e)).tag=3,e}function Da(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){xa(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){xa(t,n,r),"function"!=typeof o&&(null===ju?ju=new Set([this]):ju.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var La=Error(r(461)),Ua=!1;function qa(e,t,n,r){t.child=null===e?bi(t,null,n,r):vi(t,e.child,n,r)}function Fa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return Lo(t),r=il(e,t,n,l,i,o),a=ul(),null===e||Ua?(go&&a&&co(t),t.flags|=1,qa(e,t,r,o),t.child):(cl(e,t,o),ss(e,t,o))}function ja(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||zr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Jr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ha(e,t,i,r,o))}if(i=e.child,!us(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:rr)(l,r)&&e.ref===t.ref)return ss(e,t,o)}return t.flags|=1,(e=Vr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ha(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(rr(i,r)&&e.ref===t.ref){if(Ua=!1,t.pendingProps=r=i,!us(e,o))return t.lanes=e.lanes,ss(e,t,o);131072&e.flags&&(Ua=!0)}}return Wa(e,t,n,r,o)}function Ga(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Va(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Va(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ei(0,null!==i?i.cachePool:null),null!==i?Mi(t,i):Di(),Hi(t)}else null!==i?(ei(0,i.cachePool),Mi(t,i),Gi(),t.memoizedState=null):(null!==e&&ei(0,null),Di(),Gi());return qa(e,t,o,n),t.child}function za(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Va(e,t,n,r,o){var i=Zo();return i=null===i?null:{parent:zo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&ei(0,null),Di(),Hi(t),null!==e&&Mo(e,t,r,!0),t.childLanes=o,null}function Ba(e,t){return(t=rs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ja(e,t,n){return vi(t,e.child,null,n),(e=Ba(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function $a(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wa(e,t,n,r,o){return Lo(t),n=il(e,t,n,r,void 0,o),r=ul(),null===e||Ua?(go&&r&&co(t),t.flags|=1,qa(e,t,n,o),t.child):(cl(e,t,o),ss(e,t,o))}function Ya(e,t,n,r,o,i){return Lo(t),t.updateQueue=null,n=al(t,r,n,o),ll(e),r=ul(),null===e||Ua?(go&&r&&co(t),t.flags|=1,qa(e,t,n,i),t.child):(cl(e,t,i),ss(e,t,i))}function Ka(e,t,n,r,o){if(Lo(t),null===t.stateNode){var i=jr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Uo(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Ca,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Si(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Uo(l):jr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(_a(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&Ca.enqueueReplaceState(i,i.state,null),Oi(t,r,i,o),ki(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=Aa(n,a);i.props=s;var u=i.context,c=n.contextType;l=jr,"object"==typeof c&&null!==c&&(l=Uo(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&Ia(t,i,r,l),Ei=!1;var p=t.memoizedState;i.state=p,Oi(t,r,i,o),ki(),u=t.memoizedState,a||p!==u||Ei?("function"==typeof d&&(_a(t,n,d,r),u=t.memoizedState),(s=Ei||Ta(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,wi(e,t),c=Aa(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=jr,"object"==typeof u&&null!==u&&(s=Uo(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&Ia(t,i,r,s),Ei=!1,p=t.memoizedState,i.state=p,Oi(t,r,i,o),ki();var f=t.memoizedState;l!==d||p!==f||Ei||null!==e&&null!==e.dependencies&&Do(e.dependencies)?("function"==typeof a&&(_a(t,n,a,r),f=t.memoizedState),(c=Ei||Ta(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&Do(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,$a(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,n,o)):qa(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ss(e,t,o),e}function Qa(e,t,n,r){return Co(),t.flags|=256,qa(e,t,n,r),t.child}var Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Za(e){return{baseLanes:e,cachePool:ti()}}function es(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Pu),e}function ts(e,t,n){var o,i=t.pendingProps,l=!1,a=!!(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&!!(2&Vi.current)),o&&(l=!0,t.flags&=-129),o=!!(32&t.flags),t.flags&=-33,null===e){if(go){if(l?Fi(t):Gi(),(e=mo)?null!==(e=null!==(e=Md(e,vo))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==io?{id:lo,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ho=t,mo=null):e=null,null===e)throw Eo(t);return Ld(e)?t.lanes=32:t.lanes=536870912,null}var s=i.children;return i=i.fallback,l?(Gi(),s=rs({mode:"hidden",children:s},l=t.mode),i=$r(i,l,n,null),s.return=t,i.return=t,s.sibling=i,t.child=s,(i=t.child).memoizedState=Za(n),i.childLanes=es(e,o,n),t.memoizedState=Xa,za(null,i)):(Fi(t),ns(t,s))}var u=e.memoizedState;if(null!==u&&null!==(s=u.dehydrated)){if(a)256&t.flags?(Fi(t),t.flags&=-257,t=os(e,t,n)):null!==t.memoizedState?(Gi(),t.child=e.child,t.flags|=128,t=null):(Gi(),s=i.fallback,l=t.mode,i=rs({mode:"visible",children:i.children},l),(s=$r(s,l,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,vi(t,e.child,null,n),(i=t.child).memoizedState=Za(n),i.childLanes=es(e,o,n),t.memoizedState=Xa,t=za(null,i));else if(Fi(t),Ld(s)){if(o=s.nextSibling&&s.nextSibling.dataset)var c=o.dgst;o=c,(i=Error(r(419))).stack="",i.digest=o,Io({value:i,source:null,stack:null}),t=os(e,t,n)}else if(Ua||Mo(e,t,n,!1),o=0!==(n&e.childLanes),Ua||o){if(null!==(o=vu)&&(0!==(i=Fe(o,n))&&i!==u.retryLane))throw u.retryLane=i,Ur(e,i),Xu(o,e,i),La;Dd(s)||cc(),t=os(e,t,n)}else Dd(s)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,mo=Ud(s.nextSibling),ho=t,go=!0,yo=null,vo=!1,null!==e&&fo(t,e),(t=ns(t,i.children)).flags|=4096);return t}return l?(Gi(),s=i.fallback,l=t.mode,c=(u=e.child).sibling,(i=Vr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?s=Vr(c,s):(s=$r(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,za(null,i),i=t.child,null===(s=e.child.memoizedState)?s=Za(n):(null!==(l=s.cachePool)?(u=zo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=ti(),s={baseLanes:s.baseLanes|n,cachePool:l}),i.memoizedState=s,i.childLanes=es(e,o,n),t.memoizedState=Xa,za(e.child,i)):(Fi(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function ns(e,t){return(t=rs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function rs(e,t){return(e=Gr(22,e,null,t)).lanes=0,e}function os(e,t,n){return vi(t,e.child,null,n),(e=ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function ls(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function as(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=Vi.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,B(Vi,l),qa(e,t,r,n),r=go?no:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&is(e,n,t);else if(19===e.tag)is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Bi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ls(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Bi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ls(t,!0,n,null,i,r);break;case"together":ls(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ss(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ku|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Mo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function us(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Do(e))}function cs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ua=!0;else{if(!(us(e,n)||128&t.flags))return Ua=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),No(0,zo,e.memoizedState.cache),Co();break;case 27:case 5:ee(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:No(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,ji(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Fi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ts(e,t,n):(Fi(t),null!==(e=ss(e,t,n))?e.sibling:null);Fi(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Mo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return as(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(Vi,Vi.current),r)break;return null;case 22:return t.lanes=0,Ga(e,t,n,t.pendingProps);case 24:No(0,zo,e.memoizedState.cache)}return ss(e,t,n)}(e,t,n);Ua=!!(131072&e.flags)}else Ua=!1,go&&1048576&t.flags&&uo(t,no,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=si(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===C){t.tag=11,t=Fa(null,t,e,o,n);break e}if(i===O){t.tag=14,t=ja(null,t,e,o,n);break e}}throw t=L(e)||e,Error(r(306,t,""))}zr(e)?(o=Aa(e,o),t.tag=1,t=Ka(null,t,e,o,n)):(t.tag=0,t=Wa(null,t,e,o,n))}return t;case 0:return Wa(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,o=t.type,i=Aa(o,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(r(387));o=t.pendingProps;var l=t.memoizedState;i=l.element,wi(e,t),Oi(t,o,null,n);var a=t.memoizedState;if(o=a.cache,No(0,zo,o),o!==l.cache&&Ro(t,[zo],n,!0),ki(),o=a.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Qa(e,t,o,n);break e}if(o!==i){Io(i=Xr(Error(r(424)),t)),t=Qa(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(mo=Ud(e.firstChild),ho=t,go=!0,yo=null,vo=!0,n=bi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Co(),o===i){t=ss(e,t,n);break e}qa(e,t,o,n)}t=t.child}return t;case 26:return $a(e,t),null===e?(n=Yd(t.type,null,t.pendingProps,null))?t.memoizedState=n:go||(n=t.type,e=t.pendingProps,(o=Ed(K.current).createElement(n))[Be]=t,o[Je]=e,gd(o,n,e),ot(o),t.stateNode=o):t.memoizedState=Yd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),null===e&&go&&(o=t.stateNode=Hd(t.type,t.pendingProps,K.current),ho=t,vo=!0,i=mo,Nd(t.type)?(qd=i,mo=Ud(o.firstChild)):mo=i),qa(e,t,t.pendingProps.children,n),$a(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&go&&((i=o=mo)&&(null!==(o=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Ud(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,vo))?(t.stateNode=o,ho=t,mo=Ud(o.firstChild),vo=!1,i=!0):i=!1),i||Eo(t)),ee(t),i=t.type,l=t.pendingProps,a=null!==e?e.memoizedProps:null,o=l.children,_d(i,l)?o=null:null!==a&&_d(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=il(e,t,sl,null,null,n),hp._currentValue=i),$a(e,t),qa(e,t,o,n),t.child;case 6:return null===e&&go&&((e=n=mo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ud(e.nextSibling)))return null}return e}(n,t.pendingProps,vo))?(t.stateNode=n,ho=t,mo=null,e=!0):e=!1),e||Eo(t)),null;case 13:return ts(e,t,n);case 4:return X(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=vi(t,null,o,n):qa(e,t,o,n),t.child;case 11:return Fa(e,t,t.type,t.pendingProps,n);case 7:return qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return qa(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,No(0,t.type,o.value),qa(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,Lo(t),o=o(i=Uo(i)),t.flags|=1,qa(e,t,o,n),t.child;case 14:return ja(e,t,t.type,t.pendingProps,n);case 15:return Ha(e,t,t.type,t.pendingProps,n);case 19:return as(e,t,n);case 31:return function(e,t,n){var o=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(go){if("hidden"===o.mode)return e=Ba(t,o),t.lanes=536870912,za(null,e);if(ji(t),(e=mo)?null!==(e=null!==(e=Md(e,vo))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==io?{id:lo,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ho=t,mo=null):e=null,null===e)throw Eo(t);return t.lanes=536870912,null}return Ba(t,o)}var l=e.memoizedState;if(null!==l){var a=l.dehydrated;if(ji(t),i)if(256&t.flags)t.flags&=-257,t=Ja(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Ua||Mo(e,t,n,!1),i=0!==(n&e.childLanes),Ua||i){if(null!==(o=vu)&&0!==(a=Fe(o,n))&&a!==l.retryLane)throw l.retryLane=a,Ur(e,a),Xu(o,e,a),La;cc(),t=Ja(e,t,n)}else e=l.treeContext,mo=Ud(a.nextSibling),ho=t,go=!0,yo=null,vo=!1,null!==e&&fo(t,e),(t=Ba(t,o)).flags|=4096;return t}return(e=Vr(e.child,{mode:o.mode,children:o.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ga(e,t,n,t.pendingProps);case 24:return Lo(t),o=Uo(zo),null===e?(null===(i=Zo())&&(i=vu,l=Vo(),i.pooledCache=l,l.refCount++,null!==l&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:o,cache:i},Si(t),No(0,zo,i)):(0!==(e.lanes&n)&&(wi(e,t),Oi(t,null,null,n),ki()),i=e.memoizedState,l=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),No(0,zo,o)):(o=l.cache,No(0,zo,o),o!==i.cache&&Ro(t,[zo],n,!0))),qa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ds(e){e.flags|=4}function ps(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ac())throw ui=ii,ri;e.flags|=8192}}else e.flags&=-16777217}function fs(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sp(t)){if(!ac())throw ui=ii,ri;e.flags|=8192}}function hs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Me():536870912,e.lanes|=t,xu|=t)}function ms(e,t){if(!go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ys(e,t,n){var o=t.pendingProps;switch(po(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return gs(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Po(zo),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(_o(t)?ds(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,To())),gs(t),null;case 26:var i=t.type,l=t.memoizedState;return null===e?(ds(t),null!==l?(gs(t),fs(t,l)):(gs(t),ps(t,i,0,0,n))):l?l!==e.memoizedState?(ds(t),gs(t),fs(t,l)):(gs(t),t.flags&=-16777217):((e=e.memoizedProps)!==o&&ds(t),gs(t),ps(t,i,0,0,n)),null;case 27:if(te(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&ds(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return gs(t),null}e=W.current,_o(t)?So(t):(e=Hd(i,o,n),t.stateNode=e,ds(t))}return gs(t),null;case 5:if(te(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&ds(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return gs(t),null}if(l=W.current,_o(t))So(t);else{var a=Ed(K.current);switch(l){case 1:l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(l=a.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"==typeof o.is?a.createElement("select",{is:o.is}):a.createElement("select"),o.multiple?l.multiple=!0:o.size&&(l.size=o.size);break;default:l="string"==typeof o.is?a.createElement(i,{is:o.is}):a.createElement(i)}}l[Be]=t,l[Je]=o;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)l.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=l;e:switch(gd(l,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ds(t)}}return gs(t),ps(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&ds(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(e=K.current,_o(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=ho))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||fd(e.nodeValue,n)))||Eo(t,!0)}else(e=Ed(e).createTextNode(o))[Be]=t,t.stateNode=e}return gs(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(o=_o(t),null!==n){if(null===e){if(!o)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Be]=t}else Co(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;gs(t),e=!1}else n=To(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(128&t.flags)throw Error(r(558))}return gs(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=_o(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Be]=t}else Co(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;gs(t),i=!1}else i=To(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),128&t.flags?(t.lanes=n,t):(n=null!==o,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool),l=null,null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(l=o.memoizedState.cachePool.pool),l!==i&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hs(t,t.updateQueue),gs(t),null);case 4:return Z(),null===e&&rd(t.stateNode.containerInfo),gs(t),null;case 10:return Po(t.type),gs(t),null;case 19:if(V(Vi),null===(o=t.memoizedState))return gs(t),null;if(i=!!(128&t.flags),null===(l=o.rendering))if(i)ms(o,!1);else{if(0!==Au||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Bi(e))){for(t.flags|=128,ms(o,!1),e=l.updateQueue,t.updateQueue=e,hs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Vi,1&Vi.current|2),go&&so(t,o.treeForkCount),t.child}e=e.sibling}null!==o.tail&&pe()>qu&&(t.flags|=128,i=!0,ms(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bi(l))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hs(t,e),ms(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!go)return gs(t),null}else 2*pe()-o.renderingStartTime>qu&&536870912!==n&&(t.flags|=128,i=!0,ms(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=o.last)?e.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pe(),e.sibling=null,n=Vi.current,B(Vi,i?1&n|2:1&n),go&&so(t,o.treeForkCount),e):(gs(t),null);case 22:case 23:return zi(t),Li(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?!!(536870912&n)&&!(128&t.flags)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null!==(n=t.updateQueue)&&hs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&V(Xo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Po(zo),gs(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function vs(e,t){switch(po(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Po(zo),Z(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return te(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(r(340));Co()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Co()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Vi),null;case 4:return Z(),null;case 10:return Po(t.type),null;case 22:case 23:return zi(t),Li(),null!==e&&V(Xo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Po(zo),null;default:return null}}function bs(e,t){switch(po(t),t.tag){case 3:Po(zo),Z();break;case 26:case 27:case 5:te(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:V(Vi);break;case 10:Po(t.type);break;case 22:case 23:zi(t),Li(),null!==e&&V(Xo);break;case 24:Po(zo)}}function Es(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(a){Ac(t,t.return,a)}}function Ss(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(c){Ac(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){Ac(t,t.return,c)}}function ws(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Pi(t,n)}catch(r){Ac(e,e.return,r)}}}function _s(e,t,n){n.props=Aa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ac(e,t,r)}}function Cs(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Ac(e,t,o)}}function Ts(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(o){Ac(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Ac(e,t,i)}else n.current=null}function Is(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Ac(e,e.return,o)}}function As(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,a=null,s=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:o.hasOwnProperty(h)||hd(e,t,h,null,o,p)}}for(var f in o){var h=o[f];if(p=n[f],o.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":l=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==p&&hd(e,t,f,h,o,p)}}return void wt(e,a,s,u,c,d,l,i);case"select":for(l in h=a=s=f=null,n)if(u=n[l],n.hasOwnProperty(l)&&null!=u)switch(l){case"value":break;case"multiple":h=u;default:o.hasOwnProperty(l)||hd(e,t,l,null,o,u)}for(i in o)if(l=o[i],u=n[i],o.hasOwnProperty(i)&&(null!=l||null!=u))switch(i){case"value":f=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:l!==u&&hd(e,t,i,l,o,u)}return t=s,n=a,o=h,void(null!=f?Tt(e,!!n,f,!1):!!o!=!!n&&(null!=t?Tt(e,!!n,t,!0):Tt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(i=n[s],n.hasOwnProperty(s)&&null!=i&&!o.hasOwnProperty(s))switch(s){case"value":case"children":break;default:hd(e,t,s,null,o,i)}for(a in o)if(i=o[a],l=n[a],o.hasOwnProperty(a)&&(null!=i||null!=l))switch(a){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==l&&hd(e,t,a,i,o,l)}return void It(e,f,h);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!o.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hd(e,t,m,null,o,f);for(u in o)if(f=o[u],h=n[u],o.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else hd(e,t,u,f,o,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!o.hasOwnProperty(g)&&hd(e,t,g,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:hd(e,t,c,f,o,h)}return;default:if(xt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!o.hasOwnProperty(y)&&md(e,t,y,void 0,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||md(e,t,d,f,o,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!o.hasOwnProperty(v)&&hd(e,t,v,null,o,f);for(p in o)f=o[p],h=n[p],!o.hasOwnProperty(p)||f===h||null==f&&null==h||hd(e,t,p,f,o,h)}(o,e.type,n,t),o[Je]=t}catch(i){Ac(e,e.return,i)}}function ks(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Nd(e.type)||4===e.tag}function Os(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ks(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Nd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Lt));else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ns(e,t,n),e=e.sibling;null!==e;)Ns(e,t,n),e=e.sibling}function Ps(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function xs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gd(t,r,n),t[Be]=e,t[Je]=n}catch(i){Ac(e,e.return,i)}}var Rs=!1,Ms=!1,Ds=!1,Ls="function"==typeof WeakSet?WeakSet:Set,Us=null;function qs(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xs(e,n),4&r&&Es(5,n);break;case 1:if(Xs(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){Ac(n,n.return,l)}else{var o=Aa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Ac(n,n.return,a)}}64&r&&ws(n),512&r&&Cs(n,n.return);break;case 3:if(Xs(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Pi(e,t)}catch(l){Ac(n,n.return,l)}}break;case 27:null===t&&4&r&&xs(n);case 26:case 5:Xs(e,n),null===t&&4&r&&Is(n),512&r&&Cs(n,n.return);break;case 12:Xs(e,n);break;case 31:Xs(e,n),4&r&&Vs(e,n);break;case 13:Xs(e,n),4&r&&Bs(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Pc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rs)){t=null!==t&&null!==t.memoizedState||Ms,o=Rs;var i=Ms;Rs=r,(Ms=t)&&!i?eu(e,n,!!(8772&n.subtreeFlags)):Xs(e,n),Rs=o,Ms=i}break;case 30:break;default:Xs(e,n)}}function Fs(e){var t=e.alternate;null!==t&&(e.alternate=null,Fs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var js=null,Hs=!1;function Gs(e,t,n){for(n=n.child;null!==n;)zs(e,t,n),n=n.sibling}function zs(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(Se,n)}catch(i){}switch(n.tag){case 26:Ms||Ts(n,t),Gs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ms||Ts(n,t);var r=js,o=Hs;Nd(n.type)&&(js=n.stateNode,Hs=!1),Gs(e,t,n),Gd(n.stateNode),js=r,Hs=o;break;case 5:Ms||Ts(n,t);case 6:if(r=js,o=Hs,js=null,Gs(e,t,n),Hs=o,null!==(js=r))if(Hs)try{(9===js.nodeType?js.body:"HTML"===js.nodeName?js.ownerDocument.body:js).removeChild(n.stateNode)}catch(l){Ac(n,t,l)}else try{js.removeChild(n.stateNode)}catch(l){Ac(n,t,l)}break;case 18:null!==js&&(Hs?(Pd(9===(e=js).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wp(e)):Pd(js,n.stateNode));break;case 4:r=js,o=Hs,js=n.stateNode.containerInfo,Hs=!0,Gs(e,t,n),js=r,Hs=o;break;case 0:case 11:case 14:case 15:Ss(2,n,t),Ms||Ss(4,n,t),Gs(e,t,n);break;case 1:Ms||(Ts(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&_s(n,t,r)),Gs(e,t,n);break;case 21:Gs(e,t,n);break;case 22:Ms=(r=Ms)||null!==n.memoizedState,Gs(e,t,n),Ms=r;break;default:Gs(e,t,n)}}function Vs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wp(e)}catch(n){Ac(t,t.return,n)}}}function Bs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wp(e)}catch(n){Ac(t,t.return,n)}}function Js(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ls),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ls),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=xc.bind(null,e,t);t.then(r,r)}})}function $s(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],l=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(Nd(s.type)){js=s.stateNode,Hs=!1;break e}break;case 5:js=s.stateNode,Hs=!1;break e;case 3:case 4:js=s.stateNode.containerInfo,Hs=!0;break e}s=s.return}if(null===js)throw Error(r(160));zs(l,a,i),js=null,Hs=!1,null!==(l=i.alternate)&&(l.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ys(t,e),t=t.sibling}var Ws=null;function Ys(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$s(t,e),Ks(e),4&o&&(Ss(3,e,e.return),Es(3,e),Ss(5,e,e.return));break;case 1:$s(t,e),Ks(e),512&o&&(Ms||null===n||Ts(n,n.return)),64&o&&Rs&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var i=Ws;if($s(t,e),Ks(e),512&o&&(Ms||null===n||Ts(n,n.return)),4&o){var l=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(l=i.getElementsByTagName("title")[0])||l[Xe]||l[Be]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=i.createElement(o),i.head.insertBefore(l,i.querySelector("head > title"))),gd(l,o,n),l[Be]=e,ot(l),o=l;break e;case"link":var a=lp("link","href",i).get(o+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((l=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}gd(l=i.createElement(o),o,n),i.head.appendChild(l);break;case"meta":if(a=lp("meta","content",i).get(o+(n.content||"")))for(s=0;s<a.length;s++)if((l=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}gd(l=i.createElement(o),o,n),i.head.appendChild(l);break;default:throw Error(r(468,o))}l[Be]=e,ot(l),o=l}e.stateNode=o}else ap(i,e.type,e.stateNode);else e.stateNode=tp(i,o,e.memoizedProps);else l!==o?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===o?ap(i,e.type,e.stateNode):tp(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&As(e,e.memoizedProps,n.memoizedProps)}break;case 27:$s(t,e),Ks(e),512&o&&(Ms||null===n||Ts(n,n.return)),null!==n&&4&o&&As(e,e.memoizedProps,n.memoizedProps);break;case 5:if($s(t,e),Ks(e),512&o&&(Ms||null===n||Ts(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){Ac(e,e.return,m)}}4&o&&null!=e.stateNode&&As(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(Ds=!0);break;case 6:if($s(t,e),Ks(e),4&o){if(null===e.stateNode)throw Error(r(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(m){Ac(e,e.return,m)}}break;case 3:if(ip=null,i=Ws,Ws=Bd(t.containerInfo),$s(t,e),Ws=i,Ks(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Wp(t.containerInfo)}catch(m){Ac(e,e.return,m)}Ds&&(Ds=!1,Qs(e));break;case 4:o=Ws,Ws=Bd(e.stateNode.containerInfo),$s(t,e),Ks(e),Ws=o;break;case 12:default:$s(t,e),Ks(e);break;case 31:case 19:$s(t,e),Ks(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Js(e,o)));break;case 13:$s(t,e),Ks(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Lu=pe()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Js(e,o)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Rs,d=Ms;if(Rs=c||i,Ms=d||u,$s(t,e),Ms=d,Rs=c,Ks(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Rs||Ms||Zs(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(l=u.stateNode,i)"function"==typeof(a=l.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Ac(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Ac(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;i?xd(h,!0):xd(u.stateNode,!1)}catch(m){Ac(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Js(e,n))));case 30:case 21:}}function Ks(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(ks(o)){n=o;break}o=o.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Ps(e,Os(e),i);break;case 5:var l=n.stateNode;32&n.flags&&(kt(l,""),n.flags&=-33),Ps(e,Os(e),l);break;case 3:case 4:var a=n.stateNode.containerInfo;Ns(e,Os(e),a);break;default:throw Error(r(161))}}catch(s){Ac(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Qs(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Qs(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)qs(e,t.alternate,t),t=t.sibling}function Zs(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ss(4,t,t.return),Zs(t);break;case 1:Ts(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&_s(t,t.return,n),Zs(t);break;case 27:Gd(t.stateNode);case 26:case 5:Ts(t,t.return),Zs(t);break;case 22:null===t.memoizedState&&Zs(t);break;default:Zs(t)}e=e.sibling}}function eu(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:eu(o,i,n),Es(4,i);break;case 1:if(eu(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){Ac(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Ni(s[o],a)}catch(u){Ac(r,r.return,u)}}n&&64&l&&ws(i),Cs(i,i.return);break;case 27:xs(i);case 26:case 5:eu(o,i,n),n&&null===r&&4&l&&Is(i),Cs(i,i.return);break;case 12:eu(o,i,n);break;case 31:eu(o,i,n),n&&4&l&&Vs(o,i);break;case 13:eu(o,i,n),n&&4&l&&Bs(o,i);break;case 22:null===i.memoizedState&&eu(o,i,n),Cs(i,i.return);break;case 30:break;default:eu(o,i,n)}t=t.sibling}}function tu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function nu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function ru(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ou(e,t,n,r),t=t.sibling}function ou(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ru(e,t,n,r),2048&o&&Es(9,t);break;case 1:case 31:case 13:default:ru(e,t,n,r);break;case 3:ru(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){ru(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Ac(t,t.return,s)}}else ru(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?ru(e,t,n,r):lu(e,t):2&i._visibility?ru(e,t,n,r):(i._visibility|=2,iu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&tu(l,t);break;case 24:ru(e,t,n,r),2048&o&&nu(t.alternate,t)}}function iu(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:iu(i,l,a,s,o),Es(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?iu(i,l,a,s,o):lu(i,l):(c._visibility|=2,iu(i,l,a,s,o)),o&&2048&u&&tu(l.alternate,l);break;case 24:iu(i,l,a,s,o),o&&2048&u&&nu(l.alternate,l);break;default:iu(i,l,a,s,o)}t=t.sibling}}function lu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:lu(n,r),2048&o&&tu(r.alternate,r);break;case 24:lu(n,r),2048&o&&nu(r.alternate,r);break;default:lu(n,r)}t=t.sibling}}var au=8192;function su(e,t,n){if(e.subtreeFlags&au)for(e=e.child;null!==e;)uu(e,t,n),e=e.sibling}function uu(e,t,n){switch(e.tag){case 26:su(e,t,n),e.flags&au&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=Kd(r.href),i=t.querySelector(Qd(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=cp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void ot(i);i=t.ownerDocument||t,r=Xd(r),(o=zd.get(o))&&rp(r,o),ot(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),gd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=cp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ws,e.memoizedState,e.memoizedProps);break;case 5:default:su(e,t,n);break;case 3:case 4:var r=Ws;Ws=Bd(e.stateNode.containerInfo),su(e,t,n),Ws=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=au,au=16777216,su(e,t,n),au=r):su(e,t,n))}}function cu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function du(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Us=r,hu(r,e)}cu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)pu(e),e=e.sibling}function pu(e){switch(e.tag){case 0:case 11:case 15:du(e),2048&e.flags&&Ss(9,e,e.return);break;case 3:case 12:default:du(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,fu(e)):du(e)}}function fu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Us=r,hu(r,e)}cu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ss(8,t,t.return),fu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,fu(t));break;default:fu(t)}e=e.sibling}}function hu(e,t){for(;null!==Us;){var n=Us;switch(n.tag){case 0:case 11:case 15:Ss(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Us=r;else e:for(n=e;null!==Us;){var o=(r=Us).sibling,i=r.return;if(Fs(r),r===n){Us=null;break e}if(null!==o){o.return=i,Us=o;break e}Us=i}}}var mu={getCacheForType:function(e){var t=Uo(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Uo(zo).controller.signal}},gu="function"==typeof WeakMap?WeakMap:Map,yu=0,vu=null,bu=null,Eu=0,Su=0,wu=null,_u=!1,Cu=!1,Tu=!1,Iu=0,Au=0,ku=0,Ou=0,Nu=0,Pu=0,xu=0,Ru=null,Mu=null,Du=!1,Lu=0,Uu=0,qu=1/0,Fu=null,ju=null,Hu=0,Gu=null,zu=null,Vu=0,Bu=0,Ju=null,$u=null,Wu=0,Yu=null;function Ku(){return 2&yu&&0!==Eu?Eu&-Eu:null!==q.T?Jc():Ge()}function Qu(){if(0===Pu)if(536870912&Eu&&!go)Pu=536870912;else{var e=ke;!(3932160&(ke<<=1))&&(ke=262144),Pu=e}return null!==(e=Ui.current)&&(e.flags|=32),Pu}function Xu(e,t,n){(e!==vu||2!==Su&&9!==Su)&&null===e.cancelPendingCommit||(ic(e,0),nc(e,Eu,Pu,!1)),Le(e,n),2&yu&&e===vu||(e===vu&&(!(2&yu)&&(Ou|=n),4===Au&&nc(e,Eu,Pu,!1)),Fc(e))}function Zu(e,t,n){if(6&yu)throw Error(r(327));for(var o=!n&&!(127&t)&&0===(t&e.expiredLanes)||xe(e,t),i=o?function(e,t){var n=yu;yu|=2;var o=sc(),i=uc();vu!==e||Eu!==t?(Fu=null,qu=pe()+500,ic(e,t)):Cu=xe(e,t);e:for(;;)try{if(0!==Su&&null!==bu){t=bu;var l=wu;t:switch(Su){case 1:Su=0,wu=null,gc(e,t,l,1);break;case 2:case 9:if(li(l)){Su=0,wu=null,mc(t);break}t=function(){2!==Su&&9!==Su||vu!==e||(Su=7),Fc(e)},l.then(t,t);break e;case 3:Su=7;break e;case 4:Su=5;break e;case 7:li(l)?(Su=0,wu=null,mc(t)):(Su=0,wu=null,gc(e,t,l,7));break;case 5:var a=null;switch(bu.tag){case 26:a=bu.memoizedState;case 5:case 27:var s=bu;if(a?sp(a):s.stateNode.complete){Su=0,wu=null;var u=s.sibling;if(null!==u)bu=u;else{var c=s.return;null!==c?(bu=c,yc(c)):bu=null}break t}}Su=0,wu=null,gc(e,t,l,5);break;case 6:Su=0,wu=null,gc(e,t,l,6);break;case 8:oc(),Au=6;break e;default:throw Error(r(462))}}fc();break}catch(d){lc(e,d)}return Oo=ko=null,q.H=o,q.A=i,yu=n,null!==bu?0:(vu=null,Eu=0,Mr(),Au)}(e,t):dc(e,t,!0),l=o;;){if(0===i){Cu&&!o&&nc(e,t,0,!1);break}if(n=e.current.alternate,!l||tc(n)){if(2===i){if(l=t,e.errorRecoveryDisabledLanes&l)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;i=Ru;var u=s.current.memoizedState.isDehydrated;if(u&&(ic(s,a).flags|=256),2!==(a=dc(s,a,!1))){if(Tu&&!u){s.errorRecoveryDisabledLanes|=l,Ou|=l,i=4;break e}l=Mu,Mu=i,null!==l&&(null===Mu?Mu=l:Mu.push.apply(Mu,l))}i=a}if(l=!1,2!==i)continue}}if(1===i){ic(e,0),nc(e,t,0,!0);break}e:{switch(o=e,l=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:nc(o,t,Pu,!_u);break e;case 2:Mu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Lu+300-pe())){if(nc(o,t,Pu,!_u),0!==Pe(o,0,!0))break e;Vu=t,o.timeoutHandle=Td(ec.bind(null,o,n,Mu,Fu,Du,t,Pu,Ou,xu,_u,l,"Throttled",-0,0),i)}else ec(o,n,Mu,Fu,Du,t,Pu,Ou,xu,_u,l,null,-0,0)}break}i=dc(e,t,!1),l=!1}Fc(e)}function ec(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){uu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var h=(62914560&i)===i?Lu-pe():(4194048&i)===i?Uu-pe():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&pp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&pp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===up&&(up=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&yd(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&yd(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&pp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>up?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Vu=i,e.cancelPendingCommit=h(bc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void nc(e,i,l,!u)}bc(e,t,i,n,r,o,l,a,s)}function tc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!nr(i(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nc(e,t,n,r){t&=~Nu,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-Ce(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&Ue(e,n,t)}function rc(){return!!(6&yu)||(jc(0),!1)}function oc(){if(null!==bu){if(0===Su)var e=bu.return;else Oo=ko=null,dl(e=bu),pi=null,fi=0,e=bu;for(;null!==e;)bs(e.alternate,e),e=e.return;bu=null}}function ic(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Id(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vu=0,oc(),vu=e,bu=n=Vr(e.current,null),Eu=t,Su=0,wu=null,_u=!1,Cu=xe(e,t),Tu=!1,xu=Pu=Nu=Ou=ku=Au=0,Mu=Ru=null,Du=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-Ce(r),i=1<<o;t|=e[o],r&=~i}return Iu=t,Mr(),n}function lc(e,t){$i=null,q.H=ba,t===ni||t===oi?(t=ci(),Su=3):t===ri?(t=ci(),Su=4):Su=t===La?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wu=t,null===bu&&(Au=1,Pa(e,Xr(t,e.current)))}function ac(){var e=Ui.current;return null===e||((4194048&Eu)===Eu?null===qi:!!((62914560&Eu)===Eu||536870912&Eu)&&e===qi)}function sc(){var e=q.H;return q.H=ba,null===e?ba:e}function uc(){var e=q.A;return q.A=mu,e}function cc(){Au=4,_u||(4194048&Eu)!==Eu&&null!==Ui.current||(Cu=!0),!(134217727&ku)&&!(134217727&Ou)||null===vu||nc(vu,Eu,Pu,!1)}function dc(e,t,n){var r=yu;yu|=2;var o=sc(),i=uc();vu===e&&Eu===t||(Fu=null,ic(e,t)),t=!1;var l=Au;e:for(;;)try{if(0!==Su&&null!==bu){var a=bu,s=wu;switch(Su){case 8:oc(),l=6;break e;case 3:case 2:case 9:case 6:null===Ui.current&&(t=!0);var u=Su;if(Su=0,wu=null,gc(e,a,s,u),n&&Cu){l=0;break e}break;default:u=Su,Su=0,wu=null,gc(e,a,s,u)}}pc(),l=Au;break}catch(c){lc(e,c)}return t&&e.shellSuspendCounter++,Oo=ko=null,yu=r,q.H=o,q.A=i,null===bu&&(vu=null,Eu=0,Mr()),l}function pc(){for(;null!==bu;)hc(bu)}function fc(){for(;null!==bu&&!ce();)hc(bu)}function hc(e){var t=cs(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?yc(e):bu=t}function mc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ya(n,t,t.pendingProps,t.type,void 0,Eu);break;case 11:t=Ya(n,t,t.pendingProps,t.type.render,t.ref,Eu);break;case 5:dl(t);default:bs(n,t),t=cs(n,t=bu=Br(t,Iu),Iu)}e.memoizedProps=e.pendingProps,null===t?yc(e):bu=t}function gc(e,t,n,o){Oo=ko=null,dl(t),pi=null,fi=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&Mo(t,n,i,!0),null!==(n=Ui.current)){switch(n.tag){case 31:case 13:return null===qi?cc():null===n.alternate&&0===Au&&(Au=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===ii?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),kc(e,o,i)),!1;case 22:return n.flags|=65536,o===ii?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),kc(e,o,i)),!1}throw Error(r(435,n.tag))}return kc(e,o,i),cc(),!1}if(go)return null!==(t=Ui.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==bo&&Io(Xr(e=Error(r(422),{cause:o}),n))):(o!==bo&&Io(Xr(t=Error(r(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=Xr(o,n),Ii(e,i=Ra(e.stateNode,o,i)),4!==Au&&(Au=2)),!1;var l=Error(r(520),{cause:o});if(l=Xr(l,n),null===Ru?Ru=[l]:Ru.push(l),4!==Au&&(Au=2),null===t)return!0;o=Xr(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ii(n,e=Ra(n.stateNode,o,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==ju&&ju.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,Da(i=Ma(i),e,n,o),Ii(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,Eu))return Au=1,Pa(e,Xr(n,e.current)),void(bu=null)}catch(l){if(null!==i)throw bu=i,l;return Au=1,Pa(e,Xr(n,e.current)),void(bu=null)}32768&t.flags?(go||1===o?e=!0:Cu||536870912&Eu?e=!1:(_u=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=Ui.current)&&13===o.tag&&(o.flags|=16384))),vc(t,e)):yc(t)}function yc(e){var t=e;do{if(32768&t.flags)return void vc(t,_u);e=t.return;var n=ys(t.alternate,t,Iu);if(null!==n)return void(bu=n);if(null!==(t=t.sibling))return void(bu=t);bu=t=e}while(null!==t);0===Au&&(Au=5)}function vc(e,t){do{var n=vs(e.alternate,e);if(null!==n)return n.flags&=32767,void(bu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(bu=e);bu=e=n}while(null!==e);Au=6,bu=null}function bc(e,t,n,o,i,l,a,s,u){e.cancelPendingCommit=null;do{Cc()}while(0!==Hu);if(6&yu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Ce(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ue(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,l|=Rr,a,s,u),e===vu&&(bu=vu=null,Eu=0),zu=t,Gu=e,Vu=n,Bu=l,Ju=i,$u=o,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,se(ge,function(){return Tc(),null})):(e.callbackNode=null,e.callbackPriority=0),o=!!(13878&t.flags),13878&t.subtreeFlags||o){o=q.T,q.T=null,i=F.p,F.p=2,a=yu,yu|=4;try{!function(e,t){if(e=e.containerInfo,vd=_p,sr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(s=a+i),p!==l||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(s=a),f===l&&++d===o&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bd={focusedElem:e,selectionRange:n},_p=!1,Us=t;null!==Us;)if(e=(t=Us).child,1028&t.subtreeFlags&&null!==e)e.return=t,Us=e;else for(;null!==Us;){switch(l=(t=Us).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,o=n.stateNode;try{var m=Aa(n.type,i);e=o.getSnapshotBeforeUpdate(m,l),o.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ac(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Us=e;break}Us=t.return}}(e,t)}finally{yu=a,F.p=i,q.T=o}}Hu=1,Ec(),Sc(),wc()}}function Ec(){if(1===Hu){Hu=0;var e=Gu,t=zu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=q.T,q.T=null;var r=F.p;F.p=2;var o=yu;yu|=4;try{Ys(t,e);var i=bd,l=ar(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&lr(a.ownerDocument.documentElement,a)){if(null!==s&&sr(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=ir(a,m),v=ir(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var E=d[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}_p=!!vd,bd=vd=null}finally{yu=o,F.p=r,q.T=n}}e.current=t,Hu=2}}function Sc(){if(2===Hu){Hu=0;var e=Gu,t=zu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=q.T,q.T=null;var r=F.p;F.p=2;var o=yu;yu|=4;try{qs(e,t.alternate,t)}finally{yu=o,F.p=r,q.T=n}}Hu=3}}function wc(){if(4===Hu||3===Hu){Hu=0,de();var e=Gu,t=zu,n=Vu,r=$u;10256&t.subtreeFlags||10256&t.flags?Hu=5:(Hu=0,zu=Gu=null,_c(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(ju=null),He(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(Se,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==r){t=q.T,o=F.p,F.p=2,q.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{q.T=t,F.p=o}}3&Vu&&Cc(),Fc(e),o=e.pendingLanes,261930&n&&42&o?e===Yu?Wu++:(Wu=0,Yu=e):Wu=0,jc(0)}}function _c(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function Cc(){return Ec(),Sc(),wc(),Tc()}function Tc(){if(5!==Hu)return!1;var e=Gu,t=Bu;Bu=0;var n=He(Vu),o=q.T,i=F.p;try{F.p=32>n?32:n,q.T=null,n=Ju,Ju=null;var l=Gu,a=Vu;if(Hu=0,zu=Gu=null,Vu=0,6&yu)throw Error(r(331));var s=yu;if(yu|=4,pu(l.current),ou(l,l.current,a,n),yu=s,jc(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(Se,l)}catch(u){}return!0}finally{F.p=i,q.T=o,_c(e,t)}}function Ic(e,t,n){t=Xr(n,t),null!==(e=Ci(e,t=Ra(e.stateNode,t,2),2))&&(Le(e,2),Fc(e))}function Ac(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ju||!ju.has(r))){e=Xr(n,e),null!==(r=Ci(t,n=Ma(2),2))&&(Da(n,r,t,e),Le(r,2),Fc(r));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new gu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Tu=!0,o.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vu===e&&(Eu&n)===n&&(4===Au||3===Au&&(62914560&Eu)===Eu&&300>pe()-Lu?!(2&yu)&&ic(e,0):Nu|=n,xu===Eu&&(xu=0)),Fc(e)}function Nc(e,t){0===t&&(t=Me()),null!==(e=Ur(e,t))&&(Le(e,t),Fc(e))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function xc(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==o&&o.delete(t),Nc(e,n)}var Rc=null,Mc=null,Dc=!1,Lc=!1,Uc=!1,qc=0;function Fc(e){e!==Mc&&null===e.next&&(null===Mc?Rc=Mc=e:Mc=Mc.next=e),Lc=!0,Dc||(Dc=!0,kd(function(){6&yu?se(he,Hc):Gc()}))}function jc(e,t){if(!Uc&&Lc){Uc=!0;do{for(var n=!1,r=Rc;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-Ce(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Bc(r,i))}else i=Eu,!(3&(i=Pe(r,r===vu?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Bc(r,i));r=r.next}}while(n);Uc=!1}}function Hc(){Gc()}function Gc(){Lc=Dc=!1;var e=0;0!==qc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Cd&&(Cd=e,!0);return Cd=null,!1}()&&(e=qc);for(var t=pe(),n=null,r=Rc;null!==r;){var o=r.next,i=zc(r,t);0===i?(r.next=null,null===n?Rc=o:n.next=o,null===o&&(Mc=n)):(n=r,(0!==e||3&i)&&(Lc=!0)),r=o}0!==Hu&&5!==Hu||jc(e),0!==qc&&(qc=0)}function zc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-Ce(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=Re(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=Eu,n=Pe(e,e===(t=vu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===Su||9===Su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ue(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ue(r),He(n)){case 2:case 8:n=me;break;case 32:default:n=ge;break;case 268435456:n=ve}return r=Vc.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ue(r),e.callbackPriority=2,e.callbackNode=null,2}function Vc(e,t){if(0!==Hu&&5!==Hu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=Eu;return 0===(r=Pe(e,e===vu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zu(e,r,t),zc(e,pe()),null!=e.callbackNode&&e.callbackNode===n?Vc.bind(null,e):null)}function Bc(e,t){if(Cc())return null;Zu(e,t,!0)}function Jc(){if(0===qc){var e=Wo;0===e&&(e=Ae,!(261888&(Ae<<=1))&&(Ae=256)),qc=e}return qc}function $c(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Dt(""+e)}function Wc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Yc=0;Yc<kr.length;Yc++){var Kc=kr[Yc];Or(Kc.toLowerCase(),"on"+(Kc[0].toUpperCase()+Kc.slice(1)))}Or(Er,"onAnimationEnd"),Or(Sr,"onAnimationIteration"),Or(wr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_r,"onTransitionRun"),Or(Cr,"onTransitionStart"),Or(Tr,"onTransitionCancel"),Or(Ir,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function Zc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Nr(c)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Nr(c)}o.currentTarget=null,i=s}}}}function ed(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(od(t,e,2,!1),n.add(r))}function td(e,t,n){var r=0;t&&(r|=4),od(n,e,r,t)}var nd="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[nd]){e[nd]=!0,it.forEach(function(t){"selectionchange"!==t&&(Xc.has(t)||td(t,!1,e),td(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[nd]||(t[nd]=!0,td("selectionchange",!1,t))}}function od(e,t,n,r){switch(Np(t)){case 2:var o=Cp;break;case 8:o=Tp;break;default:o=Ip}n=o.bind(null,t,n,e),o=void 0,!Jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function id(e,t,n,r,o){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=et(s)))return;if(5===(u=a.tag)||6===u||26===u||27===u){r=l=a;continue e}s=s.parentNode}}r=r.return}zt(function(){var r=l,o=qt(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=an,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=fn;break;case"focusout":c="blur",u=fn;break;case"beforeblur":case"afterblur":u=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Er:case Sr:case wr:u=hn;break;case Ir:u=Tn;break;case"scroll":case"scrollend":u=un;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=_n;break;case"toggle":case"beforetoggle":u=An}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Vt(m,f))&&d.push(ld(m,g,h)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ut||!(c=n.relatedTarget||n.fromElement)||!et(c)&&!c[$e])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?et(c):null)&&(p=i(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=dn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?s:nt(u),h=null==c?s:nt(c),(s=new d(g,m+"leave",u,n,o)).target=p,s.relatedTarget=h,g=null,et(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=sd,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&ud(a,s,u,d,!1),null!==c&&null!==p&&ud(a,p,c,d,!0)}if("select"===(u=(s=r?nt(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Bn;else if(Fn(s))if(Jn)v=tr;else{v=Zn;var b=Xn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&xt(r.elementType)&&(v=Bn):v=er;switch(v&&(v=v(e,r))?jn(a,v,n,o):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&Ct(s,"number",s.value)),b=r?nt(r):window,e){case"focusin":(Fn(b)||"true"===b.contentEditable)&&(cr=b,dr=r,pr=null);break;case"focusout":pr=dr=cr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,hr(a,n,o);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":hr(a,n,o)}var E;if(On)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Un?Dn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(xn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==S?"onCompositionEnd"===S&&Un&&(E=Qt()):(Yt="value"in(Wt=o)?Wt.value:Wt.textContent,Un=!0)),0<(b=ad(r,S)).length&&(S=new gn(S,e,null,n,o),a.push({event:S,listeners:b}),E?S.data=E:null!==(E=Ln(n))&&(S.data=E))),(E=Pn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Mn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Dn(e,t)?(e=Qt(),Kt=Yt=Wt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=ad(r,"onBeforeInput")).length&&(b=new gn("onBeforeInput","beforeinput",null,n,o),a.push({event:b,listeners:S}),b.data=E)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=$c((o[Je]||null).action),l=r.submitter;l&&null!==(t=(t=l[Je]||null)?$c(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new an("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==qc){var e=l?Wc(o,l):new FormData(o);ia(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?Wc(o,l):new FormData(o),ia(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Zc(a,t)})}function ld(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Vt(e,n))&&r.unshift(ld(e,o,i)),null!=(o=Vt(e,t))&&r.push(ld(e,o,i))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ud(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=Vt(n,i))&&l.unshift(ld(n,u,s)):o||null!=(u=Vt(n,i))&&l.push(ld(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var cd=/\r\n?/g,dd=/\u0000|\uFFFD/g;function pd(e){return("string"==typeof e?e:""+e).replace(cd,"\n").replace(dd,"")}function fd(e,t){return t=pd(t),pd(e)===t}function hd(e,t,n,o,i,l){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||kt(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&kt(e,""+o);break;case"className":ft(e,"class",o);break;case"tabIndex":ft(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ft(e,n,o);break;case"style":Pt(e,o,l);break;case"data":if("object"!==t){ft(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Dt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&hd(e,t,"name",i.name,i,null),hd(e,t,"formEncType",i.formEncType,i,null),hd(e,t,"formMethod",i.formMethod,i,null),hd(e,t,"formTarget",i.formTarget,i,null)):(hd(e,t,"encType",i.encType,i,null),hd(e,t,"method",i.method,i,null),hd(e,t,"target",i.target,i,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Dt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Lt);break;case"onScroll":null!=o&&ed("scroll",e);break;case"onScrollEnd":null!=o&&ed("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=Dt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":ed("beforetoggle",e),ed("toggle",e),pt(e,"popover",o);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&pt(e,n=Rt.get(n)||n,o)}}function md(e,t,n,o,i,l){switch(n){case"style":Pt(e,o,l);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof o?kt(e,o):("number"==typeof o||"bigint"==typeof o)&&kt(e,""+o);break;case"onScroll":null!=o&&ed("scroll",e);break;case"onScrollEnd":null!=o&&ed("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:lt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(l=null!=(l=e[Je]||null)?l[n]:null)&&e.removeEventListener(t,l,i),"function"!=typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):pt(e,n,o):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function gd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ed("error",e),ed("load",e);var o,i=!1,l=!1;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(null!=a)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,o,a,n,null)}}return l&&hd(e,t,"srcSet",n.srcSet,n,null),void(i&&hd(e,t,"src",n.src,n,null));case"input":ed("invalid",e);var s=o=a=l=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":l=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:hd(e,t,i,d,n,null)}}return void _t(e,o,s,u,c,a,l,!1);case"select":for(l in ed("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:hd(e,t,l,s,n,null)}return t=o,n=a,e.multiple=!!i,void(null!=t?Tt(e,!!i,t,!1):null!=n&&Tt(e,!!i,n,!0));case"textarea":for(a in ed("invalid",e),o=l=i=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":i=s;break;case"defaultValue":l=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:hd(e,t,a,s,n,null)}return void At(e,i,l,o);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else hd(e,t,u,i,n,null);return;case"dialog":ed("beforetoggle",e),ed("toggle",e),ed("cancel",e),ed("close",e);break;case"iframe":case"object":ed("load",e);break;case"video":case"audio":for(i=0;i<Qc.length;i++)ed(Qc[i],e);break;case"image":ed("error",e),ed("load",e);break;case"details":ed("toggle",e);break;case"embed":case"source":case"link":ed("error",e),ed("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,c,i,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&md(e,t,d,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(i=n[s])&&hd(e,t,s,i,n,null))}function yd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var vd=null,bd=null;function Ed(e){return 9===e.nodeType?e:e.ownerDocument}function Sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Cd=null;var Td="function"==typeof setTimeout?setTimeout:void 0,Id="function"==typeof clearTimeout?clearTimeout:void 0,Ad="function"==typeof Promise?Promise:void 0,kd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ad?function(e){return Ad.resolve(null).then(e).catch(Od)}:Td;function Od(e){setTimeout(function(){throw e})}function Nd(e){return"head"===e}function Pd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Wp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Gd(e.ownerDocument.documentElement);else if("head"===n){Gd(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[Xe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&Gd(e.ownerDocument.body);n=o}while(n);Wp(t)}function xd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Md(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ud(e.nextSibling)))return null}return e}function Dd(e){return"$?"===e.data||"$~"===e.data}function Ld(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ud(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var qd=null;function Fd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ud(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function jd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Hd(e,t,n){switch(t=Ed(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Gd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var zd=new Map,Vd=new Set;function Bd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Jd=F.d;F.d={f:function(){var e=Jd.f(),t=rc();return e||t},r:function(e){var t=tt(e);null!==t&&5===t.tag&&"form"===t.type?aa(t):Jd.r(e)},D:function(e){Jd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Jd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Jd.L(e,t,n);var r=$d;if(r&&e&&t){var o='link[rel="preload"][as="'+St(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+St(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+St(n.imageSizes)+'"]')):o+='[href="'+St(e)+'"]';var i=o;switch(t){case"style":i=Kd(e);break;case"script":i=Zd(e)}zd.has(i)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Qd(i))||"script"===t&&r.querySelector(ep(i))||(gd(t=r.createElement("link"),"link",e),ot(t),r.head.appendChild(t)))}},m:function(e,t){Jd.m(e,t);var n=$d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+St(r)+'"][href="'+St(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Zd(e)}if(!zd.has(i)&&(e=c({rel:"modulepreload",href:e},t),zd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ep(i)))return}gd(r=n.createElement("link"),"link",e),ot(r),n.head.appendChild(r)}}},X:function(e,t){Jd.X(e,t);var n=$d;if(n&&e){var r=rt(n).hoistableScripts,o=Zd(e),i=r.get(o);i||((i=n.querySelector(ep(o)))||(e=c({src:e,async:!0},t),(t=zd.get(o))&&op(e,t),ot(i=n.createElement("script")),gd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Jd.S(e,t,n);var r=$d;if(r&&e){var o=rt(r).hoistableStyles,i=Kd(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(Qd(i)))a.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(i))&&rp(e,n);var s=l=r.createElement("link");ot(s),gd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,np(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Jd.M(e,t);var n=$d;if(n&&e){var r=rt(n).hoistableScripts,o=Zd(e),i=r.get(o);i||((i=n.querySelector(ep(o)))||(e=c({src:e,async:!0,type:"module"},t),(t=zd.get(o))&&op(e,t),ot(i=n.createElement("script")),gd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var $d="undefined"==typeof document?null:document;function Wd(e,t,n){var r=$d;if(r&&"string"==typeof t&&t){var o=St(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Vd.has(o)||(Vd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(gd(t=r.createElement("link"),"link",e),ot(t),r.head.appendChild(t)))}}function Yd(e,t,n,o){var i,l,a,s,u=(u=K.current)?Bd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kd(n.href),(o=(n=rt(u).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kd(n.href);var c=rt(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Qd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),c||(i=u,l=e,a=n,s=d.state,i.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=i.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),gd(l,"link",a),ot(l),i.head.appendChild(l))))),t&&null===o)throw Error(r(528,""));return d}if(t&&null!==o)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Zd(n),(o=(n=rt(u).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Kd(e){return'href="'+St(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Xd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Zd(e){return'[src="'+St(e)+'"]'}function ep(e){return"script[async]"+e}function tp(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+St(n.href)+'"]');if(o)return t.instance=o,ot(o),o;var i=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return ot(o=(e.ownerDocument||e).createElement("style")),gd(o,"style",i),np(o,n.precedence,e),t.instance=o;case"stylesheet":i=Kd(n.href);var l=e.querySelector(Qd(i));if(l)return t.state.loading|=4,t.instance=l,ot(l),l;o=Xd(n),(i=zd.get(i))&&rp(o,i),ot(l=(e.ownerDocument||e).createElement("link"));var a=l;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),gd(l,"link",o),t.state.loading|=4,np(l,n.precedence,e),t.instance=l;case"script":return l=Zd(n.src),(i=e.querySelector(ep(l)))?(t.instance=i,ot(i),i):(o=n,(i=zd.get(l))&&op(o=c({},n),i),ot(i=(e=e.ownerDocument||e).createElement("script")),gd(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,np(o,n.precedence,e));return t.instance}function np(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function rp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function op(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ip=null;function lp(e,t,n){if(null===ip){var r=new Map,o=ip=new Map;o.set(n,r)}else(r=(o=ip).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Xe]||i[Be]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function ap(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var up=0;function cp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var dp=null;function pp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,dp=new Map,t.forEach(fp,e),dp=null,cp.call(e))}function fp(e,t){if(!(4&t.state.loading)){var n=dp.get(e);if(n)var r=n.get(null);else{n=new Map,dp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=cp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var hp={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function mp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function gp(e,t,n,r,o,i,l,a,s,u,c,d){return e=new mp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=Gr(3,null,null,t),e.current=i,i.stateNode=e,(t=Vo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Si(i),e}function yp(e){return e?e=jr:jr}function vp(e,t,n,r,o,i){o=yp(o),null===r.context?r.context=o:r.pendingContext=o,(r=_i(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Ci(e,r,t))&&(Xu(n,0,t),Ti(n,e,t))}function bp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ep(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function Sp(e){if(13===e.tag||31===e.tag){var t=Ur(e,67108864);null!==t&&Xu(t,0,67108864),Ep(e,67108864)}}function wp(e){if(13===e.tag||31===e.tag){var t=Ku(),n=Ur(e,t=je(t));null!==n&&Xu(n,0,t),Ep(e,t)}}var _p=!0;function Cp(e,t,n,r){var o=q.T;q.T=null;var i=F.p;try{F.p=2,Ip(e,t,n,r)}finally{F.p=i,q.T=o}}function Tp(e,t,n,r){var o=q.T;q.T=null;var i=F.p;try{F.p=8,Ip(e,t,n,r)}finally{F.p=i,q.T=o}}function Ip(e,t,n,r){if(_p){var o=Ap(r);if(null===o)id(e,t,r,kp,n),Fp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return xp=jp(xp,e,t,n,r,o),!0;case"dragenter":return Rp=jp(Rp,e,t,n,r,o),!0;case"mouseover":return Mp=jp(Mp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Dp.set(i,jp(Dp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lp.set(i,jp(Lp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Fp(e,r),4&t&&-1<qp.indexOf(e)){for(;null!==o;){var i=tt(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=Ne(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-Ce(l);a.entanglements[1]|=s,l&=~s}Fc(i),!(6&yu)&&(qu=pe()+500,jc(0))}}break;case 31:case 13:null!==(a=Ur(i,2))&&Xu(a,0,2),rc(),Ep(i,2)}if(null===(i=Ap(r))&&id(e,t,r,kp,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else id(e,t,r,null,n)}}function Ap(e){return Op(e=qt(e))}var kp=null;function Op(e){if(kp=null,null!==(e=et(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kp=e,null}function Np(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case he:return 2;case me:return 8;case ge:case ye:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Pp=!1,xp=null,Rp=null,Mp=null,Dp=new Map,Lp=new Map,Up=[],qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,t){switch(e){case"focusin":case"focusout":xp=null;break;case"dragenter":case"dragleave":Rp=null;break;case"mouseover":case"mouseout":Mp=null;break;case"pointerover":case"pointerout":Dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function jp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=tt(t))&&Sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Hp(e){var t=et(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void ze(e.priority,function(){wp(n)})}else if(31===t){if(null!==(t=a(n)))return e.blockedOn=t,void ze(e.priority,function(){wp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ap(e.nativeEvent);if(null!==n)return null!==(t=tt(n))&&Sp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ut=r,n.target.dispatchEvent(r),Ut=null,t.shift()}return!0}function zp(e,t,n){Gp(e)&&n.delete(t)}function Vp(){Pp=!1,null!==xp&&Gp(xp)&&(xp=null),null!==Rp&&Gp(Rp)&&(Rp=null),null!==Mp&&Gp(Mp)&&(Mp=null),Dp.forEach(zp),Lp.forEach(zp)}function Bp(t,n){t.blockedOn===n&&(t.blockedOn=null,Pp||(Pp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vp)))}var Jp=null;function $p(t){Jp!==t&&(Jp=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jp===t&&(Jp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if("function"!=typeof r){if(null===Op(r||n))continue;break}var i=tt(n);null!==i&&(t.splice(e,3),e-=3,ia(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Wp(e){function t(t){return Bp(t,e)}null!==xp&&Bp(xp,e),null!==Rp&&Bp(Rp,e),null!==Mp&&Bp(Mp,e),Dp.forEach(t),Lp.forEach(t);for(var n=0;n<Up.length;n++){var r=Up[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Up.length&&null===(n=Up[0]).blockedOn;)Hp(n),null===n.blockedOn&&Up.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[Je]||null;if("function"==typeof i)l||$p(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[Je]||null)a=l.formAction;else if(null!==Op(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),$p(n)}}}function Yp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Kp(e){this._internalRoot=e}function Qp(e){this._internalRoot=e}Qp.prototype.render=Kp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));vp(t.current,Ku(),e,t,null,null)},Qp.prototype.unmount=Kp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vp(e.current,2,null,e,null,null),rc(),t[$e]=null}},Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ge();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Up.length&&0!==t&&t<Up[n].priority;n++);Up.splice(n,0,e),0===n&&Hp(e)}};var Xp=t.version;if("19.2.0"!==Xp)throw Error(r(527,Xp,"19.2.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(o=l.return)){n=o;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return s(l),e;if(a===o)return s(l),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=l,o=a;else{for(var u=!1,c=l.child;c;){if(c===n){u=!0,n=l,o=a;break}if(c===o){u=!0,o=l,n=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===n){u=!0,n=a,o=l;break}if(c===o){u=!0,o=a,n=l;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Zp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Se=ef.inject(Zp),we=ef}catch(nf){}}return y.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,i="",l=ka,a=Oa,s=Na;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=gp(e,1,!1,null,0,n,i,null,l,a,s,Yp),e[$e]=t.current,rd(e),new Kp(t)},y.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var i=!1,l="",a=ka,s=Oa,u=Na,c=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=gp(e,1,!0,t,0,i,l,c,a,s,u,Yp)).context=yp(null),n=t.current,(l=_i(i=je(i=Ku()))).callback=null,Ci(n,l,i),n=i,t.current.lanes=n,Le(t,n),Fc(t),e[$e]=t.current,rd(e),new Qp(t)},y.version="19.2.0",y}const O=e((C||(C=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),g.exports=k()),g.exports)),N=({className:e})=>a.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M10 14L21 3M21 3L11 22L10 14M21 3L3 10L10 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),P=({className:e})=>a.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 8V6M12 18V13M10 21H14M7.5 18.5L9 17M16.5 18.5L15 17M4 11H3M21 11H20M12 4V3M7.5 5.5L9 7M16.5 5.5L15 7M12 18C12.3333 18 13.5 17.6 13.5 16C13.5 14.4 12.3333 14 12 14C11.6667 14 10.5 14.4 10.5 16C10.5 17.6 11.6667 18 12 18Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeWidth:"2"})]}),x=({className:e})=>a.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12ZM12 15C8.13401 15 5 18.134 5 22H19C19 18.134 15.866 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),R=({className:e})=>a.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),M=({className:e})=>a.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),D=({className:e})=>a.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 21c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zm0-12a4 4 0 1 0 0 8 4 4 0 0 0 0-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 20v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5 12H3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M21 12h-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),L=({className:e})=>a.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 8h1a4 4 0 0 1 4 4v2a4 4 0 0 1-4 4h-1"}),a.jsx("path",{d:"M5 8H4a4 4 0 0 0-4 4v2a4 4 0 0 0 4 4h1"}),a.jsx("rect",{x:"9",y:"4",width:"6",height:"16",rx:"3"})]}),U=({onClick:e,isOpen:t})=>a.jsx("button",{id:"chat-launcher",onClick:e,"aria-label":t?"Close chat":"Open chat",children:t?a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):a.jsx(P,{})});var q=(e=>(e.User="user",e.Bot="bot",e))(q||{}),F=(e=>(e.Text="text",e.Voice="voice",e))(F||{});
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let j,H;function G(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:j,vertexUrl:H};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z{}function V(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function B(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){B(r[e],t.slice(i+1),n[e])}else for(const e of r)B(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void B(e[o][0],t.slice(i+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function J(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>J(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function $(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])$(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);B(t,i,o)}for(const e of i)delete t[e]}}else{i in e&&$(e[i],t,n,r+1,o)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response","generateVideoResponse"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["video"]);null!=n&&B(t,["video"],function(e){const t={},n=J(e,["uri"]);null!=n&&B(t,["uri"],n);const r=J(e,["encodedVideo"]);null!=r&&B(t,["videoBytes"],W(r));const o=J(e,["encoding"]);null!=o&&B(t,["mimeType"],o);return t}(n));return t}(e))),B(t,["generatedVideos"],e)}const r=J(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=J(e,["raiMediaFilteredReasons"]);null!=o&&B(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function K(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["_self"]);null!=n&&B(t,["video"],function(e){const t={},n=J(e,["gcsUri"]);null!=n&&B(t,["uri"],n);const r=J(e,["bytesBase64Encoded"]);null!=r&&B(t,["videoBytes"],W(r));const o=J(e,["mimeType"]);null!=o&&B(t,["mimeType"],o);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),B(t,["generatedVideos"],e)}const r=J(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=J(e,["raiMediaFilteredReasons"]);null!=o&&B(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function Q(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["parent"]);null!=r&&B(t,["parent"],r);const o=J(e,["documentName"]);null!=o&&B(t,["documentName"],o);return t}(l)),t}function X(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["parent"]);null!=r&&B(t,["parent"],r);const o=J(e,["documentName"]);null!=o&&B(t,["documentName"],o);return t}(l)),t}var Z,ee,te,ne,re,oe,ie,le,ae,se,ue,ce,de,pe,fe,he,me,ge,ye,ve,be,Ee,Se,we,_e,Ce,Te,Ie,Ae,ke,Oe,Ne,Pe,xe,Re,Me,De,Le,Ue,qe,Fe,je,He,Ge,ze,Ve,Be,Je,$e,We,Ye,Ke,Qe,Xe,Ze,et,tt,nt,rt,ot,it,lt,at,st,ut,ct,dt,pt,ft,ht,mt,gt,yt,vt,bt,Et,St,wt,_t,Ct,Tt,It,At,kt,Ot,Nt,Pt,xt,Rt,Mt,Dt,Lt,Ut,qt,Ft,jt,Ht,Gt,zt,Vt,Bt,Jt,$t,Wt,Yt,Kt,Qt,Xt;(ee=Z||(Z={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",ee.OUTCOME_OK="OUTCOME_OK",ee.OUTCOME_FAILED="OUTCOME_FAILED",ee.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(ne=te||(te={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",ne.PYTHON="PYTHON",(oe=re||(re={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",oe.SILENT="SILENT",oe.WHEN_IDLE="WHEN_IDLE",oe.INTERRUPT="INTERRUPT",(le=ie||(ie={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",le.STRING="STRING",le.NUMBER="NUMBER",le.INTEGER="INTEGER",le.BOOLEAN="BOOLEAN",le.ARRAY="ARRAY",le.OBJECT="OBJECT",le.NULL="NULL",(se=ae||(ae={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",se.MODE_DYNAMIC="MODE_DYNAMIC",(ce=ue||(ue={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",ce.SIMPLE_SEARCH="SIMPLE_SEARCH",ce.ELASTIC_SEARCH="ELASTIC_SEARCH",(pe=de||(de={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",pe.NO_AUTH="NO_AUTH",pe.API_KEY_AUTH="API_KEY_AUTH",pe.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",pe.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",pe.OAUTH="OAUTH",pe.OIDC_AUTH="OIDC_AUTH",(he=fe||(fe={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",he.HTTP_IN_QUERY="HTTP_IN_QUERY",he.HTTP_IN_HEADER="HTTP_IN_HEADER",he.HTTP_IN_PATH="HTTP_IN_PATH",he.HTTP_IN_BODY="HTTP_IN_BODY",he.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(ge=me||(me={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",ge.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ge.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ge.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",ge.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",ge.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",ge.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(ve=ye||(ye={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",ve.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",ve.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",ve.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",ve.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",ve.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",ve.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",ve.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",ve.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",ve.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",ve.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(Ee=be||(be={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",Ee.SEVERITY="SEVERITY",Ee.PROBABILITY="PROBABILITY",(we=Se||(Se={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",we.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",we.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",we.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",we.BLOCK_NONE="BLOCK_NONE",we.OFF="OFF",(Ce=_e||(_e={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",Ce.STOP="STOP",Ce.MAX_TOKENS="MAX_TOKENS",Ce.SAFETY="SAFETY",Ce.RECITATION="RECITATION",Ce.LANGUAGE="LANGUAGE",Ce.OTHER="OTHER",Ce.BLOCKLIST="BLOCKLIST",Ce.PROHIBITED_CONTENT="PROHIBITED_CONTENT",Ce.SPII="SPII",Ce.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Ce.IMAGE_SAFETY="IMAGE_SAFETY",Ce.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",Ce.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",Ce.NO_IMAGE="NO_IMAGE",(Ie=Te||(Te={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",Ie.NEGLIGIBLE="NEGLIGIBLE",Ie.LOW="LOW",Ie.MEDIUM="MEDIUM",Ie.HIGH="HIGH",(ke=Ae||(Ae={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",ke.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",ke.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",ke.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",ke.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(Ne=Oe||(Oe={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",Ne.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",Ne.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",Ne.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",Ne.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(xe=Pe||(Pe={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",xe.SAFETY="SAFETY",xe.OTHER="OTHER",xe.BLOCKLIST="BLOCKLIST",xe.PROHIBITED_CONTENT="PROHIBITED_CONTENT",xe.IMAGE_SAFETY="IMAGE_SAFETY",xe.MODEL_ARMOR="MODEL_ARMOR",xe.JAILBREAK="JAILBREAK",(Me=Re||(Re={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",Me.ON_DEMAND="ON_DEMAND",Me.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(Le=De||(De={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Le.TEXT="TEXT",Le.IMAGE="IMAGE",Le.AUDIO="AUDIO",(qe=Ue||(Ue={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",qe.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",qe.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",qe.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(je=Fe||(Fe={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",je.TUNING_MODE_FULL="TUNING_MODE_FULL",je.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(Ge=He||(He={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",Ge.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",Ge.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",Ge.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",Ge.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",Ge.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",Ge.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Ve=ze||(ze={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Ve.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Ve.JOB_STATE_PENDING="JOB_STATE_PENDING",Ve.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Ve.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Ve.JOB_STATE_FAILED="JOB_STATE_FAILED",Ve.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Ve.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Ve.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Ve.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Ve.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Ve.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Je=Be||(Be={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Je.TUNING_TASK_I2V="TUNING_TASK_I2V",Je.TUNING_TASK_T2V="TUNING_TASK_T2V",Je.TUNING_TASK_R2V="TUNING_TASK_R2V",(We=$e||($e={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",We.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",We.BALANCED="BALANCED",We.PRIORITIZE_COST="PRIORITIZE_COST",(Ke=Ye||(Ye={})).UNSPECIFIED="UNSPECIFIED",Ke.BLOCKING="BLOCKING",Ke.NON_BLOCKING="NON_BLOCKING",(Xe=Qe||(Qe={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Xe.MODE_DYNAMIC="MODE_DYNAMIC",(et=Ze||(Ze={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",et.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(nt=tt||(tt={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",nt.AUTO="AUTO",nt.ANY="ANY",nt.NONE="NONE",nt.VALIDATED="VALIDATED",(ot=rt||(rt={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ot.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ot.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",ot.BLOCK_NONE="BLOCK_NONE",(lt=it||(it={})).DONT_ALLOW="DONT_ALLOW",lt.ALLOW_ADULT="ALLOW_ADULT",lt.ALLOW_ALL="ALLOW_ALL",(st=at||(at={})).auto="auto",st.en="en",st.ja="ja",st.ko="ko",st.hi="hi",st.zh="zh",st.pt="pt",st.es="es",(ct=ut||(ut={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",ct.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",ct.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",ct.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",ct.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(pt=dt||(dt={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",pt.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",pt.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",pt.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(ht=ft||(ft={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",ht.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",ht.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",ht.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(gt=mt||(mt={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",gt.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",gt.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",gt.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",gt.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",gt.EDIT_MODE_STYLE="EDIT_MODE_STYLE",gt.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",gt.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(vt=yt||(yt={})).FOREGROUND="FOREGROUND",vt.BACKGROUND="BACKGROUND",vt.PROMPT="PROMPT",vt.SEMANTIC="SEMANTIC",vt.INTERACTIVE="INTERACTIVE",(Et=bt||(bt={})).ASSET="ASSET",Et.STYLE="STYLE",(wt=St||(St={})).INSERT="INSERT",wt.REMOVE="REMOVE",wt.REMOVE_STATIC="REMOVE_STATIC",wt.OUTPAINT="OUTPAINT",(Ct=_t||(_t={})).OPTIMIZED="OPTIMIZED",Ct.LOSSLESS="LOSSLESS",(It=Tt||(Tt={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",It.PREFERENCE_TUNING="PREFERENCE_TUNING",(kt=At||(At={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",kt.STATE_PENDING="STATE_PENDING",kt.STATE_ACTIVE="STATE_ACTIVE",kt.STATE_FAILED="STATE_FAILED",(Nt=Ot||(Ot={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Nt.PROCESSING="PROCESSING",Nt.ACTIVE="ACTIVE",Nt.FAILED="FAILED",(xt=Pt||(Pt={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",xt.UPLOADED="UPLOADED",xt.GENERATED="GENERATED",(Mt=Rt||(Rt={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",Mt.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Mt.RESPONSE_REJECTED="RESPONSE_REJECTED",Mt.NEED_MORE_INPUT="NEED_MORE_INPUT",(Lt=Dt||(Dt={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Lt.TEXT="TEXT",Lt.IMAGE="IMAGE",Lt.VIDEO="VIDEO",Lt.AUDIO="AUDIO",Lt.DOCUMENT="DOCUMENT",(qt=Ut||(Ut={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",qt.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",qt.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(jt=Ft||(Ft={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",jt.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",jt.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Gt=Ht||(Ht={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Gt.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Gt.NO_INTERRUPTION="NO_INTERRUPTION",(Vt=zt||(zt={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Vt.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Vt.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Jt=Bt||(Bt={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Jt.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Jt.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Jt.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Jt.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Jt.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Jt.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Jt.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Jt.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Jt.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Jt.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Jt.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Jt.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(Wt=$t||($t={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Wt.QUALITY="QUALITY",Wt.DIVERSITY="DIVERSITY",Wt.VOCALIZATION="VOCALIZATION",(Kt=Yt||(Yt={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",Kt.PLAY="PLAY",Kt.PAUSE="PAUSE",Kt.STOP="STOP",Kt.RESET_CONTEXT="RESET_CONTEXT";class Zt{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class en{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class tn{}class nn{}class rn{}class on{}class ln{}class an{}class sn{}class un{}class cn{}class dn{}class pn{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new pn;let r;const o=e;return r=t?K(o):Y(o),Object.assign(n,r),n}}class fn{}class hn{}class mn{}class gn{}class yn{}class vn{}class bn{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new bn,r=Q(e);return Object.assign(n,r),n}}class En{}class Sn{}class wn{}class _n{}class Cn{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Tn{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class In{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new In,r=X(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function An(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function kn(e,t){const n=An(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function On(e){return Array.isArray(e)?e.map(e=>Nn(e)):[Nn(e)]}function Nn(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function Pn(e){const t=Nn(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xn(e){const t=Nn(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Rn(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function Mn(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Rn(e)):[Rn(e)]}function Dn(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Ln(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Un(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function qn(e){if(null==e)throw new Error("ContentUnion is required");return Dn(e)?e:{role:"user",parts:Mn(e)}}function Fn(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=qn(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=qn(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>qn(e)):[qn(t)]}function jn(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Ln(e)||Un(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qn(e)]}const t=[],n=[],r=Dn(e[0]);for(const o of e){const e=Dn(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(Ln(o)||Un(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Mn(n)}),t}function Hn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(ie).includes(n[0].toUpperCase())?n[0].toUpperCase():ie.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(ie).includes(e.toUpperCase())?e.toUpperCase():ie.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(ie).includes(a.toUpperCase())?a.toUpperCase():ie.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Hn(a);else if(r.includes(l)){const e=[];for(const n of a)"null"!=n.type?e.push(Hn(n)):t.nullable=!0;t[l]=e}else if(o.includes(l)){const e={};for(const[t,n]of Object.entries(a))e[t]=Hn(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=a}return t}function Gn(e){return Hn(e)}function zn(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Vn(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Bn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Hn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Hn(t.response));return e}function Jn(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function $n(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Wn(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Yn(e){return W(e)}function Kn(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Qn(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Xn(e){for(const t of["models","tunedModels","publisherModels"])if(Zn(e,t))return e[t];return[]}function Zn(e,t){return null!==e&&"object"==typeof e&&t in e}function er(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function tr(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function nr(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const i of r){if("object"!=typeof i||null===i)continue;const e=i.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function rr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function or(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ir(e){const t={},n=J(e,["responsesFile"]);null!=n&&B(t,["fileName"],n);const r=J(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["response"]);null!=n&&B(t,["response"],function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["content"]);null!=n&&B(t,["content"],n);const r=J(e,["citationMetadata"]);null!=r&&B(t,["citationMetadata"],function(e){const t={},n=J(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["citations"],e)}return t}(r));const o=J(e,["tokenCount"]);null!=o&&B(t,["tokenCount"],o);const i=J(e,["finishReason"]);null!=i&&B(t,["finishReason"],i);const l=J(e,["avgLogprobs"]);null!=l&&B(t,["avgLogprobs"],l);const a=J(e,["groundingMetadata"]);null!=a&&B(t,["groundingMetadata"],a);const s=J(e,["index"]);null!=s&&B(t,["index"],s);const u=J(e,["logprobsResult"]);null!=u&&B(t,["logprobsResult"],u);const c=J(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["safetyRatings"],e)}const d=J(e,["urlContextMetadata"]);null!=d&&B(t,["urlContextMetadata"],d);return t}(e))),B(t,["candidates"],e)}const o=J(e,["modelVersion"]);null!=o&&B(t,["modelVersion"],o);const i=J(e,["promptFeedback"]);null!=i&&B(t,["promptFeedback"],i);const l=J(e,["responseId"]);null!=l&&B(t,["responseId"],l);const a=J(e,["usageMetadata"]);null!=a&&B(t,["usageMetadata"],a);return t}(n));const r=J(e,["error"]);null!=r&&B(t,["error"],r);return t}(e))),B(t,["inlinedResponses"],e)}const o=J(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["inlinedEmbedContentResponses"],e)}return t}function lr(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata","displayName"]);null!=r&&B(t,["displayName"],r);const o=J(e,["metadata","state"]);null!=o&&B(t,["state"],or(o));const i=J(e,["metadata","createTime"]);null!=i&&B(t,["createTime"],i);const l=J(e,["metadata","endTime"]);null!=l&&B(t,["endTime"],l);const a=J(e,["metadata","updateTime"]);null!=a&&B(t,["updateTime"],a);const s=J(e,["metadata","model"]);null!=s&&B(t,["model"],s);const u=J(e,["metadata","output"]);return null!=u&&B(t,["dest"],ir(nr(u))),t}function ar(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=J(e,["state"]);null!=o&&B(t,["state"],or(o));const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["createTime"]);null!=l&&B(t,["createTime"],l);const a=J(e,["startTime"]);null!=a&&B(t,["startTime"],a);const s=J(e,["endTime"]);null!=s&&B(t,["endTime"],s);const u=J(e,["updateTime"]);null!=u&&B(t,["updateTime"],u);const c=J(e,["model"]);null!=c&&B(t,["model"],c);const d=J(e,["inputConfig"]);null!=d&&B(t,["src"],function(e){const t={},n=J(e,["instancesFormat"]);null!=n&&B(t,["format"],n);const r=J(e,["gcsSource","uris"]);null!=r&&B(t,["gcsUri"],r);const o=J(e,["bigquerySource","inputUri"]);null!=o&&B(t,["bigqueryUri"],o);return t}(d));const p=J(e,["outputConfig"]);null!=p&&B(t,["dest"],function(e){const t={},n=J(e,["predictionsFormat"]);null!=n&&B(t,["format"],n);const r=J(e,["gcsDestination","outputUriPrefix"]);null!=r&&B(t,["gcsUri"],r);const o=J(e,["bigqueryDestination","outputUri"]);return null!=o&&B(t,["bigqueryUri"],o),t}(nr(p)));const f=J(e,["completionStats"]);return null!=f&&B(t,["completionStats"],f),t}function sr(e,t){const n={};if(void 0!==J(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==J(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==J(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=J(t,["fileName"]);null!=r&&B(n,["fileName"],r);const o=J(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["request","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>ur(e))),B(n,["request","contents"],e)}const i=J(t,["metadata"]);null!=i&&B(n,["metadata"],i);const l=J(t,["config"]);null!=l&&B(n,["request","generationConfig"],function(e,t,n){const r={},o=J(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],ur(qn(o)));const i=J(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=J(t,["topP"]);null!=l&&B(r,["topP"],l);const a=J(t,["topK"]);null!=a&&B(r,["topK"],a);const s=J(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=J(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=J(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=J(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=J(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=J(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=J(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=J(t,["seed"]);null!=m&&B(r,["seed"],m);const g=J(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=J(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],Gn(y));const v=J(t,["responseJsonSchema"]);null!=v&&B(r,["responseJsonSchema"],v);if(void 0!==J(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==J(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=J(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["category"]);null!=n&&B(t,["category"],n);if(void 0!==J(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=J(e,["threshold"]);null!=r&&B(t,["threshold"],r);return t}(e))),B(n,["safetySettings"],e)}const E=J(t,["tools"]);if(void 0!==n&&null!=E){let e=Jn(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}if(void 0!==J(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=J(e,["googleSearchRetrieval"]);null!=r&&B(t,["googleSearchRetrieval"],r);const o=J(e,["computerUse"]);null!=o&&B(t,["computerUse"],o);const i=J(e,["fileSearch"]);null!=i&&B(t,["fileSearch"],i);const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);if(void 0!==J(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=J(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],function(e){const t={};if(void 0!==J(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=J(e,["enableWidget"]);null!=n&&B(t,["enableWidget"],n);return t}(a));const s=J(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],function(e){const t={};if(void 0!==J(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==J(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=J(e,["timeRangeFilter"]);null!=n&&B(t,["timeRangeFilter"],n);return t}(s));const u=J(e,["urlContext"]);null!=u&&B(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Bn(e)))),B(n,["tools"],e)}const S=J(t,["toolConfig"]);void 0!==n&&null!=S&&B(n,["toolConfig"],S);if(void 0!==J(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=J(t,["cachedContent"]);void 0!==n&&null!=w&&B(n,["cachedContent"],$n(e,w));const _=J(t,["responseModalities"]);null!=_&&B(r,["responseModalities"],_);const C=J(t,["mediaResolution"]);null!=C&&B(r,["mediaResolution"],C);const T=J(t,["speechConfig"]);null!=T&&B(r,["speechConfig"],zn(T));if(void 0!==J(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=J(t,["thinkingConfig"]);null!=I&&B(r,["thinkingConfig"],I);const A=J(t,["imageConfig"]);null!=A&&B(r,["imageConfig"],A);return r}(e,l,J(n,["request"],{})));return n}(e,t))),B(n,["requests","requests"],t)}return n}function ur(e){const t={},n=J(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionCall"]);null!=n&&B(t,["functionCall"],n);const r=J(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=J(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=J(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=J(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(i));const l=J(e,["functionResponse"]);null!=l&&B(t,["functionResponse"],l);const a=J(e,["inlineData"]);null!=a&&B(t,["inlineData"],function(e){const t={},n=J(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(a));const s=J(e,["text"]);null!=s&&B(t,["text"],s);const u=J(e,["thought"]);null!=u&&B(t,["thought"],u);const c=J(e,["thoughtSignature"]);null!=c&&B(t,["thoughtSignature"],c);const d=J(e,["videoMetadata"]);null!=d&&B(t,["videoMetadata"],d);return t}(e))),B(t,["parts"],e)}const r=J(e,["role"]);return null!=r&&B(t,["role"],r),t}function cr(e,t){const n=J(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=J(e,["dest"]);return void 0!==t&&null!=r&&B(t,["outputConfig"],function(e){const t={},n=J(e,["format"]);null!=n&&B(t,["predictionsFormat"],n);const r=J(e,["gcsUri"]);null!=r&&B(t,["gcsDestination","outputUriPrefix"],r);const o=J(e,["bigqueryUri"]);if(null!=o&&B(t,["bigqueryDestination","outputUri"],o),void 0!==J(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==J(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==J(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function dr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["src"]);null!=o&&B(n,["batch","inputConfig"],sr(e,tr(e,o)));const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["displayName"]);if(void 0!==t&&null!=n&&B(t,["batch","displayName"],n),void 0!==J(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function pr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["model"],An(e,r));const o=J(t,["src"]);null!=o&&B(n,["inputConfig"],function(e){const t={},n=J(e,["format"]);null!=n&&B(t,["instancesFormat"],n);const r=J(e,["gcsUri"]);null!=r&&B(t,["gcsSource","uris"],r);const o=J(e,["bigqueryUri"]);if(null!=o&&B(t,["bigquerySource","inputUri"],o),void 0!==J(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==J(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(tr(e,o)));const i=J(t,["config"]);return null!=i&&cr(i,n),n}function fr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["src"]);null!=o&&B(n,["batch","inputConfig"],function(e,t){const n={},r=J(t,["fileName"]);null!=r&&B(n,["file_name"],r);const o=J(t,["inlinedRequests"]);null!=o&&B(n,["requests"],function(e,t){const n={},r=J(t,["contents"]);if(null!=r){let t=Fn(e,r);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["requests[]","request","content"],t)}const o=J(t,["config"]);null!=o&&(B(n,["_self"],function(e,t){const n={},r=J(e,["taskType"]);void 0!==t&&null!=r&&B(t,["requests[]","taskType"],r);const o=J(e,["title"]);void 0!==t&&null!=o&&B(t,["requests[]","title"],o);const i=J(e,["outputDimensionality"]);void 0!==t&&null!=i&&B(t,["requests[]","outputDimensionality"],i);if(void 0!==J(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==J(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(o,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),o=r.split("."),i=new Set;let l=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}$(e,t,o,0,i)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,o));return n}(e,o));const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["displayName"]);void 0!==t&&null!=n&&B(t,["batch","displayName"],n)}(i,n),n}function hr(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);if(void 0!==t&&null!=r&&B(t,["_query","pageToken"],r),void 0!==J(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function mr(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=J(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(n,t),t}(Xt=Qt||(Qt={})).PAGED_ITEM_BATCH_JOBS="batchJobs",Xt.PAGED_ITEM_MODELS="models",Xt.PAGED_ITEM_TUNING_JOBS="tuningJobs",Xt.PAGED_ITEM_FILES="files",Xt.PAGED_ITEM_CACHED_CONTENTS="cachedContents",Xt.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",Xt.PAGED_ITEM_DOCUMENTS="documents";class gr{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr extends z{constructor(e){super(),this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new gr(Qt.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}createInlinedGenerateContentRequest(e){const t=dr(this.apiClient,e),n=V("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const l of o){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=pr(this.apiClient,e);return l=V("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>ar(e))}{const t=dr(this.apiClient,e);return l=V("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>lr(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fr(this.apiClient,e);return o=V("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>lr(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);return l=V("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>ar(e))}{const t=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);return l=V("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>lr(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);i=V("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);i=V("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=mr(e);return l=V("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>ar(e))),B(t,["batchJobs"],e)}return t}(e),n=new _n;return Object.assign(n,t),n})}{const t=hr(e);return l=V("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>lr(e))),B(t,["batchJobs"],e)}return t}(e),n=new _n;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);return l=V("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);return null!=i&&B(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],rr(e,r)),n}(this.apiClient,e);return l=V("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);return null!=i&&B(t,["error"],i),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vr(e){const t={},n=J(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionCall"]);null!=n&&B(t,["functionCall"],n);const r=J(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=J(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=J(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=J(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(i));const l=J(e,["functionResponse"]);null!=l&&B(t,["functionResponse"],l);const a=J(e,["inlineData"]);null!=a&&B(t,["inlineData"],function(e){const t={},n=J(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(a));const s=J(e,["text"]);null!=s&&B(t,["text"],s);const u=J(e,["thought"]);null!=u&&B(t,["thought"],u);const c=J(e,["thoughtSignature"]);null!=c&&B(t,["thoughtSignature"],c);const d=J(e,["videoMetadata"]);null!=d&&B(t,["videoMetadata"],d);return t}(e))),B(t,["parts"],e)}const r=J(e,["role"]);return null!=r&&B(t,["role"],r),t}function br(e,t){const n=J(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=J(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r);const o=J(e,["displayName"]);void 0!==t&&null!=o&&B(t,["displayName"],o);const i=J(e,["contents"]);if(void 0!==t&&null!=i){let e=jn(i);Array.isArray(e)&&(e=e.map(e=>vr(e))),B(t,["contents"],e)}const l=J(e,["systemInstruction"]);void 0!==t&&null!=l&&B(t,["systemInstruction"],vr(qn(l)));const a=J(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}if(void 0!==J(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=J(e,["googleSearchRetrieval"]);null!=r&&B(t,["googleSearchRetrieval"],r);const o=J(e,["computerUse"]);null!=o&&B(t,["computerUse"],o);const i=J(e,["fileSearch"]);null!=i&&B(t,["fileSearch"],i);const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);if(void 0!==J(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=J(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],function(e){const t={};if(void 0!==J(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=J(e,["enableWidget"]);null!=n&&B(t,["enableWidget"],n);return t}(a));const s=J(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],function(e){const t={};if(void 0!==J(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==J(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=J(e,["timeRangeFilter"]);null!=n&&B(t,["timeRangeFilter"],n);return t}(s));const u=J(e,["urlContext"]);null!=u&&B(t,["urlContext"],u);return t}(e))),B(t,["tools"],e)}const s=J(e,["toolConfig"]);if(void 0!==t&&null!=s&&B(t,["toolConfig"],s),void 0!==J(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function Er(e,t){const n=J(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=J(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r);const o=J(e,["displayName"]);void 0!==t&&null!=o&&B(t,["displayName"],o);const i=J(e,["contents"]);if(void 0!==t&&null!=i){let e=jn(i);Array.isArray(e)&&(e=e.map(e=>e)),B(t,["contents"],e)}const l=J(e,["systemInstruction"]);void 0!==t&&null!=l&&B(t,["systemInstruction"],qn(l));const a=J(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==J(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=J(e,["description"]);null!=n&&B(t,["description"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=J(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=J(e,["response"]);null!=l&&B(t,["response"],l);const a=J(e,["responseJsonSchema"]);null!=a&&B(t,["responseJsonSchema"],a);return t}(e))),B(t,["functionDeclarations"],e)}const r=J(e,["retrieval"]);null!=r&&B(t,["retrieval"],r);const o=J(e,["googleSearchRetrieval"]);null!=o&&B(t,["googleSearchRetrieval"],o);const i=J(e,["computerUse"]);null!=i&&B(t,["computerUse"],i);if(void 0!==J(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);const a=J(e,["enterpriseWebSearch"]);null!=a&&B(t,["enterpriseWebSearch"],a);const s=J(e,["googleMaps"]);null!=s&&B(t,["googleMaps"],s);const u=J(e,["googleSearch"]);null!=u&&B(t,["googleSearch"],u);const c=J(e,["urlContext"]);null!=c&&B(t,["urlContext"],c);return t}(e))),B(t,["tools"],e)}const s=J(e,["toolConfig"]);void 0!==t&&null!=s&&B(t,["toolConfig"],s);const u=J(e,["kmsKeyName"]);return void 0!==t&&null!=u&&B(t,["encryption_spec","kmsKeyName"],u),{}}function Sr(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}function wr(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}function _r(e,t){const n={},r=J(t,["name"]);null!=r&&B(n,["_url","name"],$n(e,r));const o=J(t,["config"]);return null!=o&&function(e,t){const n=J(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=J(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r)}(o,n),n}function Cr(e,t){const n={},r=J(t,["name"]);null!=r&&B(n,["_url","name"],$n(e,r));const o=J(t,["config"]);return null!=o&&function(e,t){const n=J(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=J(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r)}(o,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new gr(Qt.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["model"],kn(e,r));const o=J(t,["config"]);return null!=o&&Er(o,n),n}(this.apiClient,e);return l=V("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["model"],kn(e,r));const o=J(t,["config"]);return null!=o&&br(o,n),n}(this.apiClient,e);return l=V("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new hn;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=J(t,["name"]);return null!=r&&B(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new hn;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Cr(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=_r(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=wr(e);return l=V("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cachedContents"],e)}return t}(e),n=new mn;return Object.assign(n,t),n})}{const t=Sr(e);return l=V("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cachedContents"],e)}return t}(e),n=new mn;return Object.assign(n,t),n})}}}function Ir(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(e){return this instanceof Ar?(this.v=e,this):new Ar(e)}function kr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof Ar?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Or(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ir(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Nr(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Pr(n)}function Pr(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function xr(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!Pr(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Rr{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Mr(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Mr{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=qn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=qn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?xr(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,r;return kr(this,arguments,function*(){var o,i,l,a;const s=[];try{for(var u,c=!0,d=Or(e);!(o=(u=yield Ar(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(Nr(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&s.push(t)}yield yield Ar(e)}}catch(p){i={error:p}}finally{try{c||o||!(l=d.return)||(yield Ar(l.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...xr(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Dr.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lr(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Ur extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new gr(Qt.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Lr(e);return o=V("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["files"],e)}return t}(e),n=new En;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=J(e,["file"]);return null!=n&&B(t,["file"],n),t}(e);return o=V("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new Sn;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","file"],Kn(n)),t}(e);return o=V("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","file"],Kn(n)),t}(e);return o=V("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new wn;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qr(e){const t={},n=J(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}function Fr(e){const t={},n=J(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionCall"]);null!=n&&B(t,["functionCall"],n);const r=J(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=J(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=J(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=J(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(i));const l=J(e,["functionResponse"]);null!=l&&B(t,["functionResponse"],l);const a=J(e,["inlineData"]);null!=a&&B(t,["inlineData"],qr(a));const s=J(e,["text"]);null!=s&&B(t,["text"],s);const u=J(e,["thought"]);null!=u&&B(t,["thought"],u);const c=J(e,["thoughtSignature"]);null!=c&&B(t,["thoughtSignature"],c);const d=J(e,["videoMetadata"]);null!=d&&B(t,["videoMetadata"],d);return t}(e))),B(t,["parts"],e)}const r=J(e,["role"]);return null!=r&&B(t,["role"],r),t}function jr(e,t){const n=J(e,["generationConfig"]);void 0!==t&&null!=n&&B(t,["setup","generationConfig"],n);const r=J(e,["responseModalities"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig","responseModalities"],r);const o=J(e,["temperature"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","temperature"],o);const i=J(e,["topP"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","topP"],i);const l=J(e,["topK"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topK"],l);const a=J(e,["maxOutputTokens"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","maxOutputTokens"],a);const s=J(e,["mediaResolution"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","mediaResolution"],s);const u=J(e,["seed"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","seed"],u);const c=J(e,["speechConfig"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","speechConfig"],Vn(c));const d=J(e,["thinkingConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","thinkingConfig"],d);const p=J(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=J(e,["systemInstruction"]);void 0!==t&&null!=f&&B(t,["setup","systemInstruction"],Fr(qn(f)));const h=J(e,["tools"]);if(void 0!==t&&null!=h){let e=Jn(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}if(void 0!==J(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=J(e,["googleSearchRetrieval"]);null!=r&&B(t,["googleSearchRetrieval"],r);const o=J(e,["computerUse"]);null!=o&&B(t,["computerUse"],o);const i=J(e,["fileSearch"]);null!=i&&B(t,["fileSearch"],i);const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);if(void 0!==J(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=J(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],function(e){const t={};if(void 0!==J(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=J(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(a));const s=J(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],function(e){const t={};if(void 0!==J(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==J(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=J(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(s));const u=J(e,["urlContext"]);null!=u&&B(t,["urlContext"],u);return t}(Bn(e)))),B(t,["setup","tools"],e)}const m=J(e,["sessionResumption"]);void 0!==t&&null!=m&&B(t,["setup","sessionResumption"],function(e){const t={},n=J(e,["handle"]);null!=n&&B(t,["handle"],n);if(void 0!==J(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=J(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&B(t,["setup","inputAudioTranscription"],g);const y=J(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","outputAudioTranscription"],y);const v=J(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&B(t,["setup","realtimeInputConfig"],v);const b=J(e,["contextWindowCompression"]);void 0!==t&&null!=b&&B(t,["setup","contextWindowCompression"],b);const E=J(e,["proactivity"]);return void 0!==t&&null!=E&&B(t,["setup","proactivity"],E),{}}function Hr(e,t){const n=J(e,["generationConfig"]);void 0!==t&&null!=n&&B(t,["setup","generationConfig"],function(e){const t={},n=J(e,["modelSelectionConfig"]);null!=n&&B(t,["modelConfig"],n);const r=J(e,["responseJsonSchema"]);null!=r&&B(t,["responseJsonSchema"],r);const o=J(e,["audioTimestamp"]);null!=o&&B(t,["audioTimestamp"],o);const i=J(e,["candidateCount"]);null!=i&&B(t,["candidateCount"],i);const l=J(e,["enableAffectiveDialog"]);null!=l&&B(t,["enableAffectiveDialog"],l);const a=J(e,["frequencyPenalty"]);null!=a&&B(t,["frequencyPenalty"],a);const s=J(e,["logprobs"]);null!=s&&B(t,["logprobs"],s);const u=J(e,["maxOutputTokens"]);null!=u&&B(t,["maxOutputTokens"],u);const c=J(e,["mediaResolution"]);null!=c&&B(t,["mediaResolution"],c);const d=J(e,["presencePenalty"]);null!=d&&B(t,["presencePenalty"],d);const p=J(e,["responseLogprobs"]);null!=p&&B(t,["responseLogprobs"],p);const f=J(e,["responseMimeType"]);null!=f&&B(t,["responseMimeType"],f);const h=J(e,["responseModalities"]);null!=h&&B(t,["responseModalities"],h);const m=J(e,["responseSchema"]);null!=m&&B(t,["responseSchema"],m);const g=J(e,["routingConfig"]);null!=g&&B(t,["routingConfig"],g);const y=J(e,["seed"]);null!=y&&B(t,["seed"],y);const v=J(e,["speechConfig"]);null!=v&&B(t,["speechConfig"],Br(v));const b=J(e,["stopSequences"]);null!=b&&B(t,["stopSequences"],b);const E=J(e,["temperature"]);null!=E&&B(t,["temperature"],E);const S=J(e,["thinkingConfig"]);null!=S&&B(t,["thinkingConfig"],S);const w=J(e,["topK"]);null!=w&&B(t,["topK"],w);const _=J(e,["topP"]);if(null!=_&&B(t,["topP"],_),void 0!==J(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=J(e,["responseModalities"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig","responseModalities"],r);const o=J(e,["temperature"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","temperature"],o);const i=J(e,["topP"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","topP"],i);const l=J(e,["topK"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topK"],l);const a=J(e,["maxOutputTokens"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","maxOutputTokens"],a);const s=J(e,["mediaResolution"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","mediaResolution"],s);const u=J(e,["seed"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","seed"],u);const c=J(e,["speechConfig"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","speechConfig"],Br(Vn(c)));const d=J(e,["thinkingConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","thinkingConfig"],d);const p=J(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=J(e,["systemInstruction"]);void 0!==t&&null!=f&&B(t,["setup","systemInstruction"],qn(f));const h=J(e,["tools"]);if(void 0!==t&&null!=h){let e=Jn(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==J(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=J(e,["description"]);null!=n&&B(t,["description"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=J(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=J(e,["response"]);null!=l&&B(t,["response"],l);const a=J(e,["responseJsonSchema"]);return null!=a&&B(t,["responseJsonSchema"],a),t}(e))),B(t,["functionDeclarations"],e)}const r=J(e,["retrieval"]);null!=r&&B(t,["retrieval"],r);const o=J(e,["googleSearchRetrieval"]);null!=o&&B(t,["googleSearchRetrieval"],o);const i=J(e,["computerUse"]);null!=i&&B(t,["computerUse"],i);if(void 0!==J(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);const a=J(e,["enterpriseWebSearch"]);null!=a&&B(t,["enterpriseWebSearch"],a);const s=J(e,["googleMaps"]);null!=s&&B(t,["googleMaps"],s);const u=J(e,["googleSearch"]);null!=u&&B(t,["googleSearch"],u);const c=J(e,["urlContext"]);null!=c&&B(t,["urlContext"],c);return t}(Bn(e)))),B(t,["setup","tools"],e)}const m=J(e,["sessionResumption"]);void 0!==t&&null!=m&&B(t,["setup","sessionResumption"],m);const g=J(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&B(t,["setup","inputAudioTranscription"],g);const y=J(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","outputAudioTranscription"],y);const v=J(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&B(t,["setup","realtimeInputConfig"],v);const b=J(e,["contextWindowCompression"]);void 0!==t&&null!=b&&B(t,["setup","contextWindowCompression"],b);const E=J(e,["proactivity"]);return void 0!==t&&null!=E&&B(t,["setup","proactivity"],E),{}}function Gr(e){const t={},n=J(e,["media"]);if(null!=n){let e=On(n);Array.isArray(e)&&(e=e.map(e=>qr(e))),B(t,["mediaChunks"],e)}const r=J(e,["audio"]);null!=r&&B(t,["audio"],qr(xn(r)));const o=J(e,["audioStreamEnd"]);null!=o&&B(t,["audioStreamEnd"],o);const i=J(e,["video"]);null!=i&&B(t,["video"],qr(Pn(i)));const l=J(e,["text"]);null!=l&&B(t,["text"],l);const a=J(e,["activityStart"]);null!=a&&B(t,["activityStart"],a);const s=J(e,["activityEnd"]);return null!=s&&B(t,["activityEnd"],s),t}function zr(e){const t={},n=J(e,["media"]);if(null!=n){let e=On(n);Array.isArray(e)&&(e=e.map(e=>e)),B(t,["mediaChunks"],e)}const r=J(e,["audio"]);null!=r&&B(t,["audio"],xn(r));const o=J(e,["audioStreamEnd"]);null!=o&&B(t,["audioStreamEnd"],o);const i=J(e,["video"]);null!=i&&B(t,["video"],Pn(i));const l=J(e,["text"]);null!=l&&B(t,["text"],l);const a=J(e,["activityStart"]);null!=a&&B(t,["activityStart"],a);const s=J(e,["activityEnd"]);return null!=s&&B(t,["activityEnd"],s),t}function Vr(e){const t={},n=J(e,["setupComplete"]);null!=n&&B(t,["setupComplete"],n);const r=J(e,["serverContent"]);null!=r&&B(t,["serverContent"],r);const o=J(e,["toolCall"]);null!=o&&B(t,["toolCall"],o);const i=J(e,["toolCallCancellation"]);null!=i&&B(t,["toolCallCancellation"],i);const l=J(e,["usageMetadata"]);null!=l&&B(t,["usageMetadata"],function(e){const t={},n=J(e,["promptTokenCount"]);null!=n&&B(t,["promptTokenCount"],n);const r=J(e,["cachedContentTokenCount"]);null!=r&&B(t,["cachedContentTokenCount"],r);const o=J(e,["candidatesTokenCount"]);null!=o&&B(t,["responseTokenCount"],o);const i=J(e,["toolUsePromptTokenCount"]);null!=i&&B(t,["toolUsePromptTokenCount"],i);const l=J(e,["thoughtsTokenCount"]);null!=l&&B(t,["thoughtsTokenCount"],l);const a=J(e,["totalTokenCount"]);null!=a&&B(t,["totalTokenCount"],a);const s=J(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["promptTokensDetails"],e)}const u=J(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cacheTokensDetails"],e)}const c=J(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["responseTokensDetails"],e)}const d=J(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["toolUsePromptTokensDetails"],e)}const p=J(e,["trafficType"]);null!=p&&B(t,["trafficType"],p);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(l));const a=J(e,["goAway"]);null!=a&&B(t,["goAway"],a);const s=J(e,["sessionResumptionUpdate"]);return null!=s&&B(t,["sessionResumptionUpdate"],s),t}function Br(e){const t={},n=J(e,["languageCode"]);null!=n&&B(t,["languageCode"],n);const r=J(e,["voiceConfig"]);if(null!=r&&B(t,["voiceConfig"],r),void 0!==J(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Jr(e){const t={},n=J(e,["content"]);null!=n&&B(t,["content"],n);const r=J(e,["citationMetadata"]);null!=r&&B(t,["citationMetadata"],function(e){const t={},n=J(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["citations"],e)}return t}(r));const o=J(e,["tokenCount"]);null!=o&&B(t,["tokenCount"],o);const i=J(e,["finishReason"]);null!=i&&B(t,["finishReason"],i);const l=J(e,["avgLogprobs"]);null!=l&&B(t,["avgLogprobs"],l);const a=J(e,["groundingMetadata"]);null!=a&&B(t,["groundingMetadata"],a);const s=J(e,["index"]);null!=s&&B(t,["index"],s);const u=J(e,["logprobsResult"]);null!=u&&B(t,["logprobsResult"],u);const c=J(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["safetyRatings"],e)}const d=J(e,["urlContextMetadata"]);return null!=d&&B(t,["urlContextMetadata"],d),t}function $r(e){const t={},n=J(e,["values"]);null!=n&&B(t,["values"],n);const r=J(e,["statistics"]);return null!=r&&B(t,["statistics"],function(e){const t={},n=J(e,["truncated"]);null!=n&&B(t,["truncated"],n);const r=J(e,["token_count"]);null!=r&&B(t,["tokenCount"],r);return t}(r)),t}function Wr(e){const t={},n=J(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionCall"]);null!=n&&B(t,["functionCall"],n);const r=J(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=J(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=J(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=J(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(i));const l=J(e,["functionResponse"]);null!=l&&B(t,["functionResponse"],l);const a=J(e,["inlineData"]);null!=a&&B(t,["inlineData"],function(e){const t={},n=J(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(a));const s=J(e,["text"]);null!=s&&B(t,["text"],s);const u=J(e,["thought"]);null!=u&&B(t,["thought"],u);const c=J(e,["thoughtSignature"]);null!=c&&B(t,["thoughtSignature"],c);const d=J(e,["videoMetadata"]);null!=d&&B(t,["videoMetadata"],d);return t}(e))),B(t,["parts"],e)}const r=J(e,["role"]);return null!=r&&B(t,["role"],r),t}function Yr(e,t){const n=J(e,["systemInstruction"]);void 0!==t&&null!=n&&B(t,["systemInstruction"],qn(n));const r=J(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Oo(e))),B(t,["tools"],e)}const o=J(e,["generationConfig"]);return void 0!==t&&null!=o&&B(t,["generationConfig"],function(e){const t={},n=J(e,["modelSelectionConfig"]);null!=n&&B(t,["modelConfig"],n);const r=J(e,["responseJsonSchema"]);null!=r&&B(t,["responseJsonSchema"],r);const o=J(e,["audioTimestamp"]);null!=o&&B(t,["audioTimestamp"],o);const i=J(e,["candidateCount"]);null!=i&&B(t,["candidateCount"],i);const l=J(e,["enableAffectiveDialog"]);null!=l&&B(t,["enableAffectiveDialog"],l);const a=J(e,["frequencyPenalty"]);null!=a&&B(t,["frequencyPenalty"],a);const s=J(e,["logprobs"]);null!=s&&B(t,["logprobs"],s);const u=J(e,["maxOutputTokens"]);null!=u&&B(t,["maxOutputTokens"],u);const c=J(e,["mediaResolution"]);null!=c&&B(t,["mediaResolution"],c);const d=J(e,["presencePenalty"]);null!=d&&B(t,["presencePenalty"],d);const p=J(e,["responseLogprobs"]);null!=p&&B(t,["responseLogprobs"],p);const f=J(e,["responseMimeType"]);null!=f&&B(t,["responseMimeType"],f);const h=J(e,["responseModalities"]);null!=h&&B(t,["responseModalities"],h);const m=J(e,["responseSchema"]);null!=m&&B(t,["responseSchema"],m);const g=J(e,["routingConfig"]);null!=g&&B(t,["routingConfig"],g);const y=J(e,["seed"]);null!=y&&B(t,["seed"],y);const v=J(e,["speechConfig"]);null!=v&&B(t,["speechConfig"],ko(v));const b=J(e,["stopSequences"]);null!=b&&B(t,["stopSequences"],b);const E=J(e,["temperature"]);null!=E&&B(t,["temperature"],E);const S=J(e,["thinkingConfig"]);null!=S&&B(t,["thinkingConfig"],S);const w=J(e,["topK"]);null!=w&&B(t,["topK"],w);const _=J(e,["topP"]);null!=_&&B(t,["topP"],_);if(void 0!==J(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(o)),{}}function Kr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>Wr(e))),B(n,["contents"],e)}const i=J(t,["config"]);return null!=i&&function(e){if(void 0!==J(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==J(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==J(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}function Qr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=J(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["referenceImage"]);null!=n&&B(t,["referenceImage"],vo(n));const r=J(e,["referenceId"]);null!=r&&B(t,["referenceId"],r);const o=J(e,["referenceType"]);null!=o&&B(t,["referenceType"],o);const i=J(e,["maskImageConfig"]);null!=i&&B(t,["maskImageConfig"],function(e){const t={},n=J(e,["maskMode"]);null!=n&&B(t,["maskMode"],n);const r=J(e,["segmentationClasses"]);null!=r&&B(t,["maskClasses"],r);const o=J(e,["maskDilation"]);null!=o&&B(t,["dilation"],o);return t}(i));const l=J(e,["controlImageConfig"]);null!=l&&B(t,["controlImageConfig"],function(e){const t={},n=J(e,["controlType"]);null!=n&&B(t,["controlType"],n);const r=J(e,["enableControlImageComputation"]);return null!=r&&B(t,["computeControl"],r),t}(l));const a=J(e,["styleImageConfig"]);null!=a&&B(t,["styleImageConfig"],a);const s=J(e,["subjectImageConfig"]);null!=s&&B(t,["subjectImageConfig"],s);return t}(e))),B(n,["instances[0]","referenceImages"],e)}const l=J(t,["config"]);return null!=l&&function(e,t){const n=J(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=J(e,["negativePrompt"]);void 0!==t&&null!=r&&B(t,["parameters","negativePrompt"],r);const o=J(e,["numberOfImages"]);void 0!==t&&null!=o&&B(t,["parameters","sampleCount"],o);const i=J(e,["aspectRatio"]);void 0!==t&&null!=i&&B(t,["parameters","aspectRatio"],i);const l=J(e,["guidanceScale"]);void 0!==t&&null!=l&&B(t,["parameters","guidanceScale"],l);const a=J(e,["seed"]);void 0!==t&&null!=a&&B(t,["parameters","seed"],a);const s=J(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&B(t,["parameters","safetySetting"],s);const u=J(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=J(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&B(t,["parameters","includeSafetyAttributes"],c);const d=J(e,["includeRaiReason"]);void 0!==t&&null!=d&&B(t,["parameters","includeRaiReason"],d);const p=J(e,["language"]);void 0!==t&&null!=p&&B(t,["parameters","language"],p);const f=J(e,["outputMimeType"]);void 0!==t&&null!=f&&B(t,["parameters","outputOptions","mimeType"],f);const h=J(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&B(t,["parameters","outputOptions","compressionQuality"],h);const m=J(e,["addWatermark"]);void 0!==t&&null!=m&&B(t,["parameters","addWatermark"],m);const g=J(e,["labels"]);void 0!==t&&null!=g&&B(t,["labels"],g);const y=J(e,["editMode"]);void 0!==t&&null!=y&&B(t,["parameters","editMode"],y);const v=J(e,["baseSteps"]);void 0!==t&&null!=v&&B(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}function Xr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let t=Fn(e,o);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["requests[]","content"],t)}const i=J(t,["config"]);null!=i&&function(e,t){const n=J(e,["taskType"]);void 0!==t&&null!=n&&B(t,["requests[]","taskType"],n);const r=J(e,["title"]);void 0!==t&&null!=r&&B(t,["requests[]","title"],r);const o=J(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&B(t,["requests[]","outputDimensionality"],o),void 0!==J(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==J(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=J(t,["model"]);return void 0!==l&&B(n,["requests[]","model"],An(e,l)),n}function Zr(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let t=Fn(e,o);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["instances[]","content"],t)}const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["taskType"]);void 0!==t&&null!=n&&B(t,["instances[]","task_type"],n);const r=J(e,["title"]);void 0!==t&&null!=r&&B(t,["instances[]","title"],r);const o=J(e,["outputDimensionality"]);void 0!==t&&null!=o&&B(t,["parameters","outputDimensionality"],o);const i=J(e,["mimeType"]);void 0!==t&&null!=i&&B(t,["instances[]","mimeType"],i);const l=J(e,["autoTruncate"]);void 0!==t&&null!=l&&B(t,["parameters","autoTruncate"],l)}(i,n),n}function eo(e,t,n){const r={},o=J(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],Wr(qn(o)));const i=J(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=J(t,["topP"]);null!=l&&B(r,["topP"],l);const a=J(t,["topK"]);null!=a&&B(r,["topK"],a);const s=J(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=J(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=J(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=J(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=J(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=J(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=J(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=J(t,["seed"]);null!=m&&B(r,["seed"],m);const g=J(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=J(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],Gn(y));const v=J(t,["responseJsonSchema"]);if(null!=v&&B(r,["responseJsonSchema"],v),void 0!==J(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==J(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=J(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["category"]);null!=n&&B(t,["category"],n);if(void 0!==J(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=J(e,["threshold"]);null!=r&&B(t,["threshold"],r);return t}(e))),B(n,["safetySettings"],e)}const E=J(t,["tools"]);if(void 0!==n&&null!=E){let e=Jn(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}if(void 0!==J(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=J(e,["googleSearchRetrieval"]);null!=r&&B(t,["googleSearchRetrieval"],r);const o=J(e,["computerUse"]);null!=o&&B(t,["computerUse"],o);const i=J(e,["fileSearch"]);null!=i&&B(t,["fileSearch"],i);const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);if(void 0!==J(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=J(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],function(e){const t={};if(void 0!==J(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=J(e,["enableWidget"]);null!=n&&B(t,["enableWidget"],n);return t}(a));const s=J(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],function(e){const t={};if(void 0!==J(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==J(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=J(e,["timeRangeFilter"]);null!=n&&B(t,["timeRangeFilter"],n);return t}(s));const u=J(e,["urlContext"]);null!=u&&B(t,["urlContext"],u);return t}(Bn(e)))),B(n,["tools"],e)}const S=J(t,["toolConfig"]);if(void 0!==n&&null!=S&&B(n,["toolConfig"],S),void 0!==J(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=J(t,["cachedContent"]);void 0!==n&&null!=w&&B(n,["cachedContent"],$n(e,w));const _=J(t,["responseModalities"]);null!=_&&B(r,["responseModalities"],_);const C=J(t,["mediaResolution"]);null!=C&&B(r,["mediaResolution"],C);const T=J(t,["speechConfig"]);if(null!=T&&B(r,["speechConfig"],zn(T)),void 0!==J(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=J(t,["thinkingConfig"]);null!=I&&B(r,["thinkingConfig"],I);const A=J(t,["imageConfig"]);return null!=A&&B(r,["imageConfig"],A),r}function to(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>Wr(e))),B(n,["contents"],e)}const i=J(t,["config"]);return null!=i&&B(n,["generationConfig"],eo(e,i,n)),n}function no(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}const i=J(t,["config"]);return null!=i&&B(n,["generationConfig"],function(e,t,n){const r={},o=J(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],qn(o));const i=J(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=J(t,["topP"]);null!=l&&B(r,["topP"],l);const a=J(t,["topK"]);null!=a&&B(r,["topK"],a);const s=J(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=J(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=J(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=J(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=J(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=J(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=J(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=J(t,["seed"]);null!=m&&B(r,["seed"],m);const g=J(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=J(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],Gn(y));const v=J(t,["responseJsonSchema"]);null!=v&&B(r,["responseJsonSchema"],v);const b=J(t,["routingConfig"]);null!=b&&B(r,["routingConfig"],b);const E=J(t,["modelSelectionConfig"]);null!=E&&B(r,["modelConfig"],E);const S=J(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),B(n,["safetySettings"],e)}const w=J(t,["tools"]);if(void 0!==n&&null!=w){let e=Jn(w);Array.isArray(e)&&(e=e.map(e=>Oo(Bn(e)))),B(n,["tools"],e)}const _=J(t,["toolConfig"]);void 0!==n&&null!=_&&B(n,["toolConfig"],_);const C=J(t,["labels"]);void 0!==n&&null!=C&&B(n,["labels"],C);const T=J(t,["cachedContent"]);void 0!==n&&null!=T&&B(n,["cachedContent"],$n(e,T));const I=J(t,["responseModalities"]);null!=I&&B(r,["responseModalities"],I);const A=J(t,["mediaResolution"]);null!=A&&B(r,["mediaResolution"],A);const k=J(t,["speechConfig"]);null!=k&&B(r,["speechConfig"],ko(zn(k)));const O=J(t,["audioTimestamp"]);null!=O&&B(r,["audioTimestamp"],O);const N=J(t,["thinkingConfig"]);null!=N&&B(r,["thinkingConfig"],N);const P=J(t,["imageConfig"]);return null!=P&&B(r,["imageConfig"],P),r}(e,i,n)),n}function ro(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Jr(e))),B(t,["candidates"],e)}const o=J(e,["modelVersion"]);null!=o&&B(t,["modelVersion"],o);const i=J(e,["promptFeedback"]);null!=i&&B(t,["promptFeedback"],i);const l=J(e,["responseId"]);null!=l&&B(t,["responseId"],l);const a=J(e,["usageMetadata"]);return null!=a&&B(t,["usageMetadata"],a),t}function oo(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["candidates"],e)}const o=J(e,["createTime"]);null!=o&&B(t,["createTime"],o);const i=J(e,["modelVersion"]);null!=i&&B(t,["modelVersion"],i);const l=J(e,["promptFeedback"]);null!=l&&B(t,["promptFeedback"],l);const a=J(e,["responseId"]);null!=a&&B(t,["responseId"],a);const s=J(e,["usageMetadata"]);return null!=s&&B(t,["usageMetadata"],s),t}function io(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=J(t,["config"]);return null!=i&&function(e,t){if(void 0!==J(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==J(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=J(e,["numberOfImages"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=J(e,["aspectRatio"]);void 0!==t&&null!=r&&B(t,["parameters","aspectRatio"],r);const o=J(e,["guidanceScale"]);if(void 0!==t&&null!=o&&B(t,["parameters","guidanceScale"],o),void 0!==J(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=J(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&B(t,["parameters","safetySetting"],i);const l=J(e,["personGeneration"]);void 0!==t&&null!=l&&B(t,["parameters","personGeneration"],l);const a=J(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&B(t,["parameters","includeSafetyAttributes"],a);const s=J(e,["includeRaiReason"]);void 0!==t&&null!=s&&B(t,["parameters","includeRaiReason"],s);const u=J(e,["language"]);void 0!==t&&null!=u&&B(t,["parameters","language"],u);const c=J(e,["outputMimeType"]);void 0!==t&&null!=c&&B(t,["parameters","outputOptions","mimeType"],c);const d=J(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&B(t,["parameters","outputOptions","compressionQuality"],d),void 0!==J(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==J(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=J(e,["imageSize"]);if(void 0!==t&&null!=p&&B(t,["parameters","sampleImageSize"],p),void 0!==J(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}function lo(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=J(e,["negativePrompt"]);void 0!==t&&null!=r&&B(t,["parameters","negativePrompt"],r);const o=J(e,["numberOfImages"]);void 0!==t&&null!=o&&B(t,["parameters","sampleCount"],o);const i=J(e,["aspectRatio"]);void 0!==t&&null!=i&&B(t,["parameters","aspectRatio"],i);const l=J(e,["guidanceScale"]);void 0!==t&&null!=l&&B(t,["parameters","guidanceScale"],l);const a=J(e,["seed"]);void 0!==t&&null!=a&&B(t,["parameters","seed"],a);const s=J(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&B(t,["parameters","safetySetting"],s);const u=J(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=J(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&B(t,["parameters","includeSafetyAttributes"],c);const d=J(e,["includeRaiReason"]);void 0!==t&&null!=d&&B(t,["parameters","includeRaiReason"],d);const p=J(e,["language"]);void 0!==t&&null!=p&&B(t,["parameters","language"],p);const f=J(e,["outputMimeType"]);void 0!==t&&null!=f&&B(t,["parameters","outputOptions","mimeType"],f);const h=J(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&B(t,["parameters","outputOptions","compressionQuality"],h);const m=J(e,["addWatermark"]);void 0!==t&&null!=m&&B(t,["parameters","addWatermark"],m);const g=J(e,["labels"]);void 0!==t&&null!=g&&B(t,["labels"],g);const y=J(e,["imageSize"]);void 0!==t&&null!=y&&B(t,["parameters","sampleImageSize"],y);const v=J(e,["enhancePrompt"]);void 0!==t&&null!=v&&B(t,["parameters","enhancePrompt"],v)}(i,n),n}function ao(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["_self"]);null!=n&&B(t,["image"],function(e){const t={},n=J(e,["bytesBase64Encoded"]);null!=n&&B(t,["imageBytes"],Yn(n));const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(n));const r=J(e,["raiFilteredReason"]);null!=r&&B(t,["raiFilteredReason"],r);const o=J(e,["_self"]);null!=o&&B(t,["safetyAttributes"],Co(o));return t}(e))),B(t,["generatedImages"],e)}const o=J(e,["positivePromptSafetyAttributes"]);return null!=o&&B(t,["positivePromptSafetyAttributes"],Co(o)),t}function so(e,t){const n=J(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n),void 0!==J(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==J(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=J(e,["durationSeconds"]);if(void 0!==t&&null!=r&&B(t,["parameters","durationSeconds"],r),void 0!==J(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=J(e,["aspectRatio"]);void 0!==t&&null!=o&&B(t,["parameters","aspectRatio"],o);const i=J(e,["resolution"]);void 0!==t&&null!=i&&B(t,["parameters","resolution"],i);const l=J(e,["personGeneration"]);if(void 0!==t&&null!=l&&B(t,["parameters","personGeneration"],l),void 0!==J(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=J(e,["negativePrompt"]);void 0!==t&&null!=a&&B(t,["parameters","negativePrompt"],a);const s=J(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&B(t,["parameters","enhancePrompt"],s),void 0!==J(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=J(e,["lastFrame"]);void 0!==t&&null!=u&&B(t,["instances[0]","lastFrame"],yo(u));const c=J(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["image"]);null!=n&&B(t,["image"],yo(n));const r=J(e,["referenceType"]);null!=r&&B(t,["referenceType"],r);return t}(e))),B(t,["instances[0]","referenceImages"],e)}if(void 0!==J(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==J(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function uo(e,t){const n=J(e,["numberOfVideos"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=J(e,["outputGcsUri"]);void 0!==t&&null!=r&&B(t,["parameters","storageUri"],r);const o=J(e,["fps"]);void 0!==t&&null!=o&&B(t,["parameters","fps"],o);const i=J(e,["durationSeconds"]);void 0!==t&&null!=i&&B(t,["parameters","durationSeconds"],i);const l=J(e,["seed"]);void 0!==t&&null!=l&&B(t,["parameters","seed"],l);const a=J(e,["aspectRatio"]);void 0!==t&&null!=a&&B(t,["parameters","aspectRatio"],a);const s=J(e,["resolution"]);void 0!==t&&null!=s&&B(t,["parameters","resolution"],s);const u=J(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=J(e,["pubsubTopic"]);void 0!==t&&null!=c&&B(t,["parameters","pubsubTopic"],c);const d=J(e,["negativePrompt"]);void 0!==t&&null!=d&&B(t,["parameters","negativePrompt"],d);const p=J(e,["enhancePrompt"]);void 0!==t&&null!=p&&B(t,["parameters","enhancePrompt"],p);const f=J(e,["generateAudio"]);void 0!==t&&null!=f&&B(t,["parameters","generateAudio"],f);const h=J(e,["lastFrame"]);void 0!==t&&null!=h&&B(t,["instances[0]","lastFrame"],vo(h));const m=J(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["image"]);null!=n&&B(t,["image"],vo(n));const r=J(e,["referenceType"]);null!=r&&B(t,["referenceType"],r);return t}(e))),B(t,["instances[0]","referenceImages"],e)}const g=J(e,["mask"]);void 0!==t&&null!=g&&B(t,["instances[0]","mask"],function(e){const t={},n=J(e,["image"]);null!=n&&B(t,["_self"],vo(n));const r=J(e,["maskMode"]);null!=r&&B(t,["maskMode"],r);return t}(g));const y=J(e,["compressionQuality"]);return void 0!==t&&null!=y&&B(t,["parameters","compressionQuality"],y),{}}function co(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response","generateVideoResponse"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["video"]);null!=n&&B(t,["video"],function(e){const t={},n=J(e,["uri"]);null!=n&&B(t,["uri"],n);const r=J(e,["encodedVideo"]);null!=r&&B(t,["videoBytes"],Yn(r));const o=J(e,["encoding"]);null!=o&&B(t,["mimeType"],o);return t}(n));return t}(e))),B(t,["generatedVideos"],e)}const r=J(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=J(e,["raiMediaFilteredReasons"]);null!=o&&B(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function po(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["_self"]);null!=n&&B(t,["video"],function(e){const t={},n=J(e,["gcsUri"]);null!=n&&B(t,["uri"],n);const r=J(e,["bytesBase64Encoded"]);null!=r&&B(t,["videoBytes"],Yn(r));const o=J(e,["mimeType"]);null!=o&&B(t,["mimeType"],o);return t}(n));return t}(e))),B(t,["generatedVideos"],e)}const r=J(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=J(e,["raiMediaFilteredReasons"]);null!=o&&B(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function fo(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=J(t,["image"]);null!=i&&B(n,["instances[0]","image"],yo(i));const l=J(t,["video"]);null!=l&&B(n,["instances[0]","video"],Ro(l));const a=J(t,["source"]);null!=a&&function(e,t){const n={},r=J(e,["prompt"]);void 0!==t&&null!=r&&B(t,["instances[0]","prompt"],r);const o=J(e,["image"]);void 0!==t&&null!=o&&B(t,["instances[0]","image"],yo(o));const i=J(e,["video"]);void 0!==t&&null!=i&&B(t,["instances[0]","video"],Ro(i))}(a,n);const s=J(t,["config"]);return null!=s&&so(s,n),n}function ho(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=J(t,["image"]);null!=i&&B(n,["instances[0]","image"],vo(i));const l=J(t,["video"]);null!=l&&B(n,["instances[0]","video"],Mo(l));const a=J(t,["source"]);null!=a&&function(e,t){const n={},r=J(e,["prompt"]);void 0!==t&&null!=r&&B(t,["instances[0]","prompt"],r);const o=J(e,["image"]);void 0!==t&&null!=o&&B(t,["instances[0]","image"],vo(o));const i=J(e,["video"]);void 0!==t&&null!=i&&B(t,["instances[0]","video"],Mo(i))}(a,n);const s=J(t,["config"]);return null!=s&&uo(s,n),n}function mo(e){const t={},n=J(e,["_self"]);null!=n&&B(t,["image"],go(n));const r=J(e,["raiFilteredReason"]);null!=r&&B(t,["raiFilteredReason"],r);const o=J(e,["_self"]);null!=o&&B(t,["safetyAttributes"],To(o));const i=J(e,["prompt"]);return null!=i&&B(t,["enhancedPrompt"],i),t}function go(e){const t={},n=J(e,["gcsUri"]);null!=n&&B(t,["gcsUri"],n);const r=J(e,["bytesBase64Encoded"]);null!=r&&B(t,["imageBytes"],Yn(r));const o=J(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}function yo(e){const t={};if(void 0!==J(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=J(e,["imageBytes"]);null!=n&&B(t,["bytesBase64Encoded"],Yn(n));const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}function vo(e){const t={},n=J(e,["gcsUri"]);null!=n&&B(t,["gcsUri"],n);const r=J(e,["imageBytes"]);null!=r&&B(t,["bytesBase64Encoded"],Yn(r));const o=J(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}function bo(e,t){const n={},r=J(t,["config"]);return null!=r&&function(e,t,n){const r=J(t,["pageSize"]);void 0!==n&&null!=r&&B(n,["_query","pageSize"],r);const o=J(t,["pageToken"]);void 0!==n&&null!=o&&B(n,["_query","pageToken"],o);const i=J(t,["filter"]);void 0!==n&&null!=i&&B(n,["_query","filter"],i);const l=J(t,["queryBase"]);void 0!==n&&null!=l&&B(n,["_url","models_url"],Qn(e,l))}(e,r,n),n}function Eo(e,t){const n={},r=J(t,["config"]);return null!=r&&function(e,t,n){const r=J(t,["pageSize"]);void 0!==n&&null!=r&&B(n,["_query","pageSize"],r);const o=J(t,["pageToken"]);void 0!==n&&null!=o&&B(n,["_query","pageToken"],o);const i=J(t,["filter"]);void 0!==n&&null!=i&&B(n,["_query","filter"],i);const l=J(t,["queryBase"]);void 0!==n&&null!=l&&B(n,["_url","models_url"],Qn(e,l))}(e,r,n),n}function So(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=J(e,["description"]);null!=o&&B(t,["description"],o);const i=J(e,["version"]);null!=i&&B(t,["version"],i);const l=J(e,["_self"]);null!=l&&B(t,["tunedModelInfo"],function(e){const t={},n=J(e,["baseModel"]);null!=n&&B(t,["baseModel"],n);const r=J(e,["createTime"]);null!=r&&B(t,["createTime"],r);const o=J(e,["updateTime"]);null!=o&&B(t,["updateTime"],o);return t}(l));const a=J(e,["inputTokenLimit"]);null!=a&&B(t,["inputTokenLimit"],a);const s=J(e,["outputTokenLimit"]);null!=s&&B(t,["outputTokenLimit"],s);const u=J(e,["supportedGenerationMethods"]);null!=u&&B(t,["supportedActions"],u);const c=J(e,["temperature"]);null!=c&&B(t,["temperature"],c);const d=J(e,["maxTemperature"]);null!=d&&B(t,["maxTemperature"],d);const p=J(e,["topP"]);null!=p&&B(t,["topP"],p);const f=J(e,["topK"]);null!=f&&B(t,["topK"],f);const h=J(e,["thinking"]);return null!=h&&B(t,["thinking"],h),t}function wo(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=J(e,["description"]);null!=o&&B(t,["description"],o);const i=J(e,["versionId"]);null!=i&&B(t,["version"],i);const l=J(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["endpoint"]);null!=n&&B(t,["name"],n);const r=J(e,["deployedModelId"]);return null!=r&&B(t,["deployedModelId"],r),t}(e))),B(t,["endpoints"],e)}const a=J(e,["labels"]);null!=a&&B(t,["labels"],a);const s=J(e,["_self"]);null!=s&&B(t,["tunedModelInfo"],function(e){const t={},n=J(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&B(t,["baseModel"],n);const r=J(e,["createTime"]);null!=r&&B(t,["createTime"],r);const o=J(e,["updateTime"]);null!=o&&B(t,["updateTime"],o);return t}(s));const u=J(e,["defaultCheckpointId"]);null!=u&&B(t,["defaultCheckpointId"],u);const c=J(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["checkpoints"],e)}return t}function _o(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["source"]);null!=o&&function(e,t){const n={},r=J(e,["prompt"]);void 0!==t&&null!=r&&B(t,["instances[0]","prompt"],r);const o=J(e,["personImage"]);void 0!==t&&null!=o&&B(t,["instances[0]","personImage","image"],vo(o));const i=J(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["productImage"]);return null!=n&&B(t,["image"],vo(n)),t}(e))),B(t,["instances[0]","productImages"],e)}}(o,n);const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["numberOfImages"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=J(e,["baseSteps"]);void 0!==t&&null!=r&&B(t,["parameters","baseSteps"],r);const o=J(e,["outputGcsUri"]);void 0!==t&&null!=o&&B(t,["parameters","storageUri"],o);const i=J(e,["seed"]);void 0!==t&&null!=i&&B(t,["parameters","seed"],i);const l=J(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&B(t,["parameters","safetySetting"],l);const a=J(e,["personGeneration"]);void 0!==t&&null!=a&&B(t,["parameters","personGeneration"],a);const s=J(e,["addWatermark"]);void 0!==t&&null!=s&&B(t,["parameters","addWatermark"],s);const u=J(e,["outputMimeType"]);void 0!==t&&null!=u&&B(t,["parameters","outputOptions","mimeType"],u);const c=J(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&B(t,["parameters","outputOptions","compressionQuality"],c);const d=J(e,["enhancePrompt"]);void 0!==t&&null!=d&&B(t,["parameters","enhancePrompt"],d);const p=J(e,["labels"]);void 0!==t&&null!=p&&B(t,["labels"],p)}(i,n),n}function Co(e){const t={},n=J(e,["safetyAttributes","categories"]);null!=n&&B(t,["categories"],n);const r=J(e,["safetyAttributes","scores"]);null!=r&&B(t,["scores"],r);const o=J(e,["contentType"]);return null!=o&&B(t,["contentType"],o),t}function To(e){const t={},n=J(e,["safetyAttributes","categories"]);null!=n&&B(t,["categories"],n);const r=J(e,["safetyAttributes","scores"]);null!=r&&B(t,["scores"],r);const o=J(e,["contentType"]);return null!=o&&B(t,["contentType"],o),t}function Io(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["source"]);null!=o&&function(e,t){const n={},r=J(e,["prompt"]);void 0!==t&&null!=r&&B(t,["instances[0]","prompt"],r);const o=J(e,["image"]);void 0!==t&&null!=o&&B(t,["instances[0]","image"],vo(o));const i=J(e,["scribbleImage"]);void 0!==t&&null!=i&&B(t,["instances[0]","scribble"],function(e){const t={},n=J(e,["image"]);return null!=n&&B(t,["image"],vo(n)),t}(i))}(o,n);const i=J(t,["config"]);return null!=i&&function(e,t){const n=J(e,["mode"]);void 0!==t&&null!=n&&B(t,["parameters","mode"],n);const r=J(e,["maxPredictions"]);void 0!==t&&null!=r&&B(t,["parameters","maxPredictions"],r);const o=J(e,["confidenceThreshold"]);void 0!==t&&null!=o&&B(t,["parameters","confidenceThreshold"],o);const i=J(e,["maskDilation"]);void 0!==t&&null!=i&&B(t,["parameters","maskDilation"],i);const l=J(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&B(t,["parameters","binaryColorThreshold"],l);const a=J(e,["labels"]);void 0!==t&&null!=a&&B(t,["labels"],a)}(i,n),n}function Ao(e){const t={},n=J(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["_self"]);null!=n&&B(t,["mask"],go(n));const r=J(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["labels"],e)}return t}(e))),B(t,["generatedMasks"],e)}return t}function ko(e){const t={},n=J(e,["languageCode"]);null!=n&&B(t,["languageCode"],n);const r=J(e,["voiceConfig"]);if(null!=r&&B(t,["voiceConfig"],r),void 0!==J(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Oo(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==J(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=J(e,["description"]);null!=n&&B(t,["description"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=J(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=J(e,["response"]);null!=l&&B(t,["response"],l);const a=J(e,["responseJsonSchema"]);return null!=a&&B(t,["responseJsonSchema"],a),t}(e))),B(t,["functionDeclarations"],e)}const r=J(e,["retrieval"]);null!=r&&B(t,["retrieval"],r);const o=J(e,["googleSearchRetrieval"]);null!=o&&B(t,["googleSearchRetrieval"],o);const i=J(e,["computerUse"]);if(null!=i&&B(t,["computerUse"],i),void 0!==J(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);const a=J(e,["enterpriseWebSearch"]);null!=a&&B(t,["enterpriseWebSearch"],a);const s=J(e,["googleMaps"]);null!=s&&B(t,["googleMaps"],s);const u=J(e,["googleSearch"]);null!=u&&B(t,["googleSearch"],u);const c=J(e,["urlContext"]);return null!=c&&B(t,["urlContext"],c),t}function No(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","name"],An(e,r));const o=J(t,["config"]);return null!=o&&function(e,t){const n=J(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=J(e,["description"]);void 0!==t&&null!=r&&B(t,["description"],r);const o=J(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&B(t,["defaultCheckpointId"],o)}(o,n),n}function Po(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["config"]);return null!=o&&function(e,t){const n=J(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=J(e,["description"]);void 0!==t&&null!=r&&B(t,["description"],r);const o=J(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&B(t,["defaultCheckpointId"],o)}(o,n),n}function xo(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["image"]);null!=o&&B(n,["instances[0]","image"],vo(o));const i=J(t,["upscaleFactor"]);null!=i&&B(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=J(t,["config"]);return null!=l&&function(e,t){const n=J(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=J(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&B(t,["parameters","safetySetting"],r);const o=J(e,["personGeneration"]);void 0!==t&&null!=o&&B(t,["parameters","personGeneration"],o);const i=J(e,["includeRaiReason"]);void 0!==t&&null!=i&&B(t,["parameters","includeRaiReason"],i);const l=J(e,["outputMimeType"]);void 0!==t&&null!=l&&B(t,["parameters","outputOptions","mimeType"],l);const a=J(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&B(t,["parameters","outputOptions","compressionQuality"],a);const s=J(e,["enhanceInputImage"]);void 0!==t&&null!=s&&B(t,["parameters","upscaleConfig","enhanceInputImage"],s);const u=J(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&B(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=J(e,["labels"]);void 0!==t&&null!=c&&B(t,["labels"],c);const d=J(e,["numberOfImages"]);void 0!==t&&null!=d&&B(t,["parameters","sampleCount"],d);const p=J(e,["mode"]);void 0!==t&&null!=p&&B(t,["parameters","mode"],p)}(l,n),n}function Ro(e){const t={},n=J(e,["uri"]);null!=n&&B(t,["uri"],n);const r=J(e,["videoBytes"]);null!=r&&B(t,["encodedVideo"],Yn(r));const o=J(e,["mimeType"]);return null!=o&&B(t,["encoding"],o),t}function Mo(e){const t={},n=J(e,["uri"]);null!=n&&B(t,["gcsUri"],n);const r=J(e,["videoBytes"]);null!=r&&B(t,["bytesBase64Encoded"],Yn(r));const o=J(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Do="x-goog-api-client",Lo=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Uo{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))r.searchParams.append(i,String(l));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"==typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(i){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"==typeof e&&!Array.isArray(e)&&i&&"object"==typeof i&&!Array.isArray(i)?n[o]=r(i,e):(i&&e&&typeof i!=typeof e&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${o}". Original type: ${typeof i}, New type: ${typeof e}. Overwriting.`),n[o]=e)}return n}const o=r(n,t);e.body=JSON.stringify(o)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await qo(e),new Zt(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await qo(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return kr(this,arguments,function*(){const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:l}=yield Ar(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=r.decode(l,{stream:!0});try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new Dr({message:o,status:r})}}}catch(o){if("ApiError"===o.name)throw o}t+=a;let s=t.match(Lo);for(;s;){const n=s[1];try{const r=new Response(n,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield Ar(new Zt(r)),t=t.slice(s[0].length),s=t.match(Lo)}catch(o){throw new Error(`exception parsing stream chunk ${n}. ${o}`)}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.29.1 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Do]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a={file:r},s=this.getFileName(e),u=V("upload/v1beta/files",a._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,s,a,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};(null==n?void 0:n.customMetadata)&&(c.customMetadata=n.customMetadata),(null==n?void 0:n.chunkingConfig)&&(c.chunkingConfig=n.chunkingConfig);const d=await this.fetchUploadUrl(s,l,a,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let a={};a=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const s=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(null==s?void 0:s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==s?void 0:s.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function qo(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new Dr({message:o,status:n})}throw new Error(o)}}function Fo(e){for(const t of e){if(Ho(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function jo(e){var t;const n=null!==(t=e[Do])&&void 0!==t?t:"";e[Do]=(n+" mcp_used/unknown").trimStart()}function Ho(e){return null!==e&&"object"==typeof e&&e instanceof zo}function Go(e,t=100){return kr(this,arguments,function*(){let n,r=0;for(;r<t;){const t=yield Ar(e.listTools({cursor:n}));for(const e of t.tools)yield yield Ar(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class zo{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new zo(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,Or(Go(c)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=er(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new Tn;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:An(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new Bo(d,this.apiClient)}}class Bo{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=J(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=J(e,["musicGenerationConfig"]);return null!=n&&B(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Yt.PLAY)}pause(){this.sendPlaybackControl(Yt.PAUSE)}stop(){this.sendPlaybackControl(Yt.STOP)}resetContext(){this.sendPlaybackControl(Yt.RESET_CONTEXT)}close(){this.conn.close()}}class Jo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Vo(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Fo(e.config.tools)&&jo(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new Cn;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=Vr(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=An(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[De.AUDIO]}:e.config.responseModalities=[De.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const _ of E)if(this.isCallableTool(_)){const e=_;S.push(await e.tool())}else S.push(_);S.length>0&&(e.config.tools=S);const w={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["setup","model"],An(e,r));const o=J(t,["config"]);return null!=o&&B(n,["config"],Hr(o,n)),n}(this.apiClient,w):function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["setup","model"],An(e,r));const o=J(t,["config"]);return null!=o&&B(n,["config"],jr(o,n)),n}(this.apiClient,w),delete b.config,y.send(JSON.stringify(b)),new Wo(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const $o={turnComplete:!0};class Wo{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=jn(t.turns),e.isVertexAI()||(r=r.map(e=>Wr(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},$o),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:zr(e)}:{realtimeInput:Gr(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Yo(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const l of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Ko(l)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function Ko(e){return"callTool"in e&&"function"==typeof e.callTool}function Qo(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Ko(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function Xo(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zo extends z{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Ko(e)))&&void 0!==r&&r}(e)||Yo(e.config))return await this.generateContentInternal(l);const a=Qo(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let s,u;const c=jn(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(s=await this.generateContentInternal(l),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Ko(r)){const e=r,t=await e.callTool(s.functionCalls);n.push(...t)}p++,u={role:"user",parts:n},l.contents=jn(l.contents),l.contents.push(t),l.contents.push(u),Xo(l.config)&&(c.push(t),c.push(u))}return Xo(l.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),Yo(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const t=Qo(e);if(t.length>0){const e=t.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new gr(Qt.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(Ko(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Fo(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),jo(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Ko(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){var r,a;return kr(this,arguments,function*(){for(var s,u,c,d;l<o;){i&&(l++,i=!1);const g=yield Ar(e.processParamsMaybeAddMcpUsage(n)),y=yield Ar(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,h=(u=void 0,Or(y));!(s=(p=yield Ar(h.next())).done);f=!0){d=p.value,f=!1;const e=d;if(yield yield Ar(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){b.push(e.candidates[0].content);for(const n of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield Ar(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){u={error:m}}finally{try{f||s||!(c=h.return)||(yield Ar(c.call(h)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const e=new en;e.candidates=[{content:{role:"user",parts:v}}],yield yield Ar(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=jn(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=no(this.apiClient,e);return l=V("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=oo(e),n=new en;return Object.assign(n,t),n})}{const t=to(this.apiClient,e);return l=V("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=ro(e),n=new en;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=no(this.apiClient,e);l=V("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return kr(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=Or(e);!(t=(i=yield Ar(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=oo(yield Ar(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new en;Object.assign(n,t),yield yield Ar(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield Ar(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=to(this.apiClient,e);l=V("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return kr(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=Or(e);!(t=(i=yield Ar(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=ro(yield Ar(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new en;Object.assign(n,t),yield yield Ar(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield Ar(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Zr(this.apiClient,e);return l=V("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>$r(e))),B(t,["embeddings"],e)}const o=J(e,["metadata"]);return null!=o&&B(t,["metadata"],o),t}(e),n=new tn;return Object.assign(n,t),n})}{const t=Xr(this.apiClient,e);return l=V("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["embeddings"],e)}const o=J(e,["metadata"]);return null!=o&&B(t,["metadata"],o),t}(e),n=new tn;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=lo(this.apiClient,e);return l=V("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>mo(e))),B(t,["generatedImages"],e)}const o=J(e,["positivePromptSafetyAttributes"]);return null!=o&&B(t,["positivePromptSafetyAttributes"],To(o)),t}(e),n=new nn;return Object.assign(n,t),n})}{const t=io(this.apiClient,e);return l=V("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=ao(e),n=new nn;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Qr(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>mo(e))),B(t,["generatedImages"],e)}return t}(e),n=new rn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=xo(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>mo(e))),B(t,["generatedImages"],e)}return t}(e),n=new on;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=_o(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=J(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>mo(e))),B(t,["generatedImages"],e)}return t}(e),n=new ln;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Io(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Ao(e),n=new an;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["model"]);return null!=r&&B(n,["_url","name"],An(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>wo(e))}{const t=function(e,t){const n={},r=J(t,["model"]);return null!=r&&B(n,["_url","name"],An(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>So(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Eo(this.apiClient,e);return l=V("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["_self"]);if(null!=o){let e=Xn(o);Array.isArray(e)&&(e=e.map(e=>wo(e))),B(t,["models"],e)}return t}(e),n=new sn;return Object.assign(n,t),n})}{const t=bo(this.apiClient,e);return l=V("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["_self"]);if(null!=o){let e=Xn(o);Array.isArray(e)&&(e=e.map(e=>So(e))),B(t,["models"],e)}return t}(e),n=new sn;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Po(this.apiClient,e);return l=V("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>wo(e))}{const t=No(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>So(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["model"]);return null!=r&&B(n,["_url","name"],An(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new un;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=J(t,["model"]);return null!=r&&B(n,["_url","name"],An(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new un;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}const i=J(t,["config"]);return null!=i&&Yr(i,n),n}(this.apiClient,e);return l=V("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["totalTokens"]);return null!=r&&B(t,["totalTokens"],r),t}(e),n=new cn;return Object.assign(n,t),n})}{const t=Kr(this.apiClient,e);return l=V("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["totalTokens"]);null!=r&&B(t,["totalTokens"],r);const o=J(e,["cachedContentTokenCount"]);return null!=o&&B(t,["cachedContentTokenCount"],o),t}(e),n=new cn;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["_url","model"],An(e,r));const o=J(t,["contents"]);if(null!=o){let e=jn(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}return n}(this.apiClient,e);return o=V("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["tokensInfo"],e)}return t}(e),n=new dn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=ho(this.apiClient,e);return l=V("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=po(e),n=new pn;return Object.assign(n,t),n})}{const t=fo(this.apiClient,e);return l=V("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=co(e),n=new pn;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei extends z{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=J(e,["operationName"]);return null!=n&&B(t,["_url","operationName"],n),t}(e);return l=V("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=J(e,["operationName"]);return null!=n&&B(t,["_url","operationName"],n),t}(e);return l=V("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=J(e,["operationName"]);null!=n&&B(t,["operationName"],n);const r=J(e,["resourceName"]);return null!=r&&B(t,["_url","resourceName"],r),t}(e);return o=V("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ti(e){const t={},n=J(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionCall"]);null!=n&&B(t,["functionCall"],n);const r=J(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=J(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=J(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=J(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=J(e,["mimeType"]);null!=r&&B(t,["mimeType"],r);return t}(i));const l=J(e,["functionResponse"]);null!=l&&B(t,["functionResponse"],l);const a=J(e,["inlineData"]);null!=a&&B(t,["inlineData"],function(e){const t={},n=J(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==J(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=J(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(a));const s=J(e,["text"]);null!=s&&B(t,["text"],s);const u=J(e,["thought"]);null!=u&&B(t,["thought"],u);const c=J(e,["thoughtSignature"]);null!=c&&B(t,["thoughtSignature"],c);const d=J(e,["videoMetadata"]);null!=d&&B(t,["videoMetadata"],d);return t}(e))),B(t,["parts"],e)}const r=J(e,["role"]);return null!=r&&B(t,["role"],r),t}function ni(e,t,n){const r=J(t,["expireTime"]);void 0!==n&&null!=r&&B(n,["expireTime"],r);const o=J(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&B(n,["newSessionExpireTime"],o);const i=J(t,["uses"]);void 0!==n&&null!=i&&B(n,["uses"],i);const l=J(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&B(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=J(t,["model"]);null!=r&&B(n,["setup","model"],An(e,r));const o=J(t,["config"]);null!=o&&B(n,["config"],function(e,t){const n={},r=J(e,["generationConfig"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig"],r);const o=J(e,["responseModalities"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","responseModalities"],o);const i=J(e,["temperature"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","temperature"],i);const l=J(e,["topP"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topP"],l);const a=J(e,["topK"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","topK"],a);const s=J(e,["maxOutputTokens"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","maxOutputTokens"],s);const u=J(e,["mediaResolution"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","mediaResolution"],u);const c=J(e,["seed"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","seed"],c);const d=J(e,["speechConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","speechConfig"],Vn(d));const p=J(e,["thinkingConfig"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","thinkingConfig"],p);const f=J(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&B(t,["setup","generationConfig","enableAffectiveDialog"],f);const h=J(e,["systemInstruction"]);void 0!==t&&null!=h&&B(t,["setup","systemInstruction"],ti(qn(h)));const m=J(e,["tools"]);if(void 0!==t&&null!=m){let e=Jn(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=J(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}if(void 0!==J(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=J(e,["googleSearchRetrieval"]);null!=r&&B(t,["googleSearchRetrieval"],r);const o=J(e,["computerUse"]);null!=o&&B(t,["computerUse"],o);const i=J(e,["fileSearch"]);null!=i&&B(t,["fileSearch"],i);const l=J(e,["codeExecution"]);null!=l&&B(t,["codeExecution"],l);if(void 0!==J(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=J(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],function(e){const t={};if(void 0!==J(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=J(e,["enableWidget"]);null!=n&&B(t,["enableWidget"],n);return t}(a));const s=J(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],function(e){const t={};if(void 0!==J(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==J(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=J(e,["timeRangeFilter"]);null!=n&&B(t,["timeRangeFilter"],n);return t}(s));const u=J(e,["urlContext"]);null!=u&&B(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Bn(e)))),B(t,["setup","tools"],e)}const g=J(e,["sessionResumption"]);void 0!==t&&null!=g&&B(t,["setup","sessionResumption"],function(e){const t={},n=J(e,["handle"]);null!=n&&B(t,["handle"],n);if(void 0!==J(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=J(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","inputAudioTranscription"],y);const v=J(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&B(t,["setup","outputAudioTranscription"],v);const b=J(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&B(t,["setup","realtimeInputConfig"],b);const E=J(e,["contextWindowCompression"]);void 0!==t&&null!=E&&B(t,["setup","contextWindowCompression"],E);const S=J(e,["proactivity"]);void 0!==t&&null!=S&&B(t,["setup","proactivity"],S);return n}(o,n));return n}(e,l));const a=J(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&B(n,["fieldMask"],a),{}}function ri(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class oi extends z{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=J(t,["config"]);return null!=r&&B(n,["config"],ni(e,r,n)),n}(this.apiClient,e);o=V("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=ri(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ii(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n)}(n,t),t}function li(e){const t={},n=J(e,["name"]);null!=n&&B(t,["_url","name"],n);const r=J(e,["config"]);return null!=r&&function(e,t){const n=J(e,["force"]);void 0!==t&&null!=n&&B(t,["_query","force"],n)}(r,t),t}function ai(e){const t={},n=J(e,["name"]);null!=n&&B(t,["name"],n);const r=J(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=J(e,["done"]);null!=o&&B(t,["done"],o);const i=J(e,["error"]);null!=i&&B(t,["error"],i);const l=J(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["parent"]);null!=r&&B(t,["parent"],r);const o=J(e,["documentName"]);null!=o&&B(t,["documentName"],o);return t}(l)),t}function si(e){const t={},n=J(e,["fileSearchStoreName"]);null!=n&&B(t,["_url","file_search_store_name"],n);const r=J(e,["fileName"]);null!=r&&B(t,["fileName"],r);const o=J(e,["config"]);return null!=o&&function(e,t){const n=J(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["customMetadata"],e)}const r=J(e,["chunkingConfig"]);void 0!==t&&null!=r&&B(t,["chunkingConfig"],r)}(o,t),t}function ui(e){const t={},n=J(e,["config"]);return null!=n&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}function ci(e){const t={},n=J(e,["fileSearchStoreName"]);null!=n&&B(t,["_url","file_search_store_name"],n);const r=J(e,["config"]);return null!=r&&function(e,t){const n=J(e,["mimeType"]);void 0!==t&&null!=n&&B(t,["mimeType"],n);const r=J(e,["displayName"]);void 0!==t&&null!=r&&B(t,["displayName"],r);const o=J(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["customMetadata"],e)}const i=J(e,["chunkingConfig"]);void 0!==t&&null!=i&&B(t,["chunkingConfig"],i)}(r,t),t}function di(e){const t={},n=J(e,["name"]);null!=n&&B(t,["_url","name"],n);const r=J(e,["config"]);return null!=r&&
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e,t){const n=J(e,["force"]);void 0!==t&&null!=n&&B(t,["_query","force"],n)}(r,t),t}function pi(e){const t={},n=J(e,["parent"]);null!=n&&B(t,["_url","parent"],n);const r=J(e,["config"]);return null!=r&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class fi extends z{constructor(e){super(),this.apiClient=e,this.list=async e=>new gr(Qt.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return o=V("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=di(e);r=V("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pi(e);return o=V("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["documents"],e)}return t}(e),n=new gn;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi extends z{constructor(e,t=new fi(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new gr(Qt.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ii(e);return o=V("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return o=V("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=li(e);r=V("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ui(e);return o=V("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["fileSearchStores"],e)}return t}(e),n=new yn;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ci(e);return o=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new vn;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=si(e);return o=V("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=ai(e),n=new bn;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mi(e,t){const n={},r=J(e,["baseModel"]);null!=r&&B(n,["baseModel"],r);const o=J(e,["preTunedModel"]);null!=o&&B(n,["preTunedModel"],o);const i=J(e,["trainingDataset"]);null!=i&&function(e){const t={};if(void 0!==J(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==J(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=J(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["examples","examples"],e)}}(i);const l=J(e,["config"]);return null!=l&&function(e,t){const n={};if(void 0!==J(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=J(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&B(t,["displayName"],r),void 0!==J(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=J(e,["epochCount"]);void 0!==t&&null!=o&&B(t,["tuningTask","hyperparameters","epochCount"],o);const i=J(e,["learningRateMultiplier"]);if(null!=i&&B(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==J(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==J(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==J(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=J(e,["batchSize"]);void 0!==t&&null!=l&&B(t,["tuningTask","hyperparameters","batchSize"],l);const a=J(e,["learningRate"]);if(void 0!==t&&null!=a&&B(t,["tuningTask","hyperparameters","learningRate"],a),void 0!==J(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==J(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(l,n),n}function gi(e,t){const n={},r=J(e,["baseModel"]);null!=r&&B(n,["baseModel"],r);const o=J(e,["preTunedModel"]);null!=o&&B(n,["preTunedModel"],o);const i=J(e,["trainingDataset"]);null!=i&&function(e,t,n){const r={};let o=J(n,["config","method"]);void 0===o&&(o="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===o){const n=J(e,["gcsUri"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=J(e,["gcsUri"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let i=J(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=J(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=J(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==J(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=J(e,["config"]);return null!=l&&function(e,t,n){let r=J(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=J(e,["validationDataset"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec"],Si(n))}else if("PREFERENCE_TUNING"===r){const n=J(e,["validationDataset"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec"],Si(n))}const o=J(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&B(t,["tunedModelDisplayName"],o);const i=J(e,["description"]);void 0!==t&&null!=i&&B(t,["description"],i);let l=J(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=J(e,["epochCount"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=J(e,["epochCount"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=J(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=J(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=J(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let s=J(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=J(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===s){const n=J(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=J(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=J(e,["adapterSize"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=J(e,["adapterSize"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==J(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==J(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=J(e,["labels"]);void 0!==t&&null!=c&&B(t,["labels"],c);const d=J(e,["beta"]);void 0!==t&&null!=d&&B(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}function yi(e,t){const n={},r=J(e,["config"]);return null!=r&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=J(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(r,n),n}function vi(e,t){const n={},r=J(e,["config"]);return null!=r&&function(e,t){const n=J(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=J(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=J(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(r,n),n}function bi(e,t){const n={},r=J(e,["sdkHttpResponse"]);null!=r&&B(n,["sdkHttpResponse"],r);const o=J(e,["name"]);null!=o&&B(n,["name"],o);const i=J(e,["state"]);null!=i&&B(n,["state"],Wn(i));const l=J(e,["createTime"]);null!=l&&B(n,["createTime"],l);const a=J(e,["tuningTask","startTime"]);null!=a&&B(n,["startTime"],a);const s=J(e,["tuningTask","completeTime"]);null!=s&&B(n,["endTime"],s);const u=J(e,["updateTime"]);null!=u&&B(n,["updateTime"],u);const c=J(e,["description"]);null!=c&&B(n,["description"],c);const d=J(e,["baseModel"]);null!=d&&B(n,["baseModel"],d);const p=J(e,["_self"]);return null!=p&&B(n,["tunedModel"],function(e){const t={},n=J(e,["name"]);null!=n&&B(t,["model"],n);const r=J(e,["name"]);return null!=r&&B(t,["endpoint"],r),t}(p)),n}function Ei(e,t){const n={},r=J(e,["sdkHttpResponse"]);null!=r&&B(n,["sdkHttpResponse"],r);const o=J(e,["name"]);null!=o&&B(n,["name"],o);const i=J(e,["state"]);null!=i&&B(n,["state"],Wn(i));const l=J(e,["createTime"]);null!=l&&B(n,["createTime"],l);const a=J(e,["startTime"]);null!=a&&B(n,["startTime"],a);const s=J(e,["endTime"]);null!=s&&B(n,["endTime"],s);const u=J(e,["updateTime"]);null!=u&&B(n,["updateTime"],u);const c=J(e,["error"]);null!=c&&B(n,["error"],c);const d=J(e,["description"]);null!=d&&B(n,["description"],d);const p=J(e,["baseModel"]);null!=p&&B(n,["baseModel"],p);const f=J(e,["tunedModel"]);null!=f&&B(n,["tunedModel"],f);const h=J(e,["preTunedModel"]);null!=h&&B(n,["preTunedModel"],h);const m=J(e,["supervisedTuningSpec"]);null!=m&&B(n,["supervisedTuningSpec"],m);const g=J(e,["preferenceOptimizationSpec"]);null!=g&&B(n,["preferenceOptimizationSpec"],g);const y=J(e,["tuningDataStats"]);null!=y&&B(n,["tuningDataStats"],y);const v=J(e,["encryptionSpec"]);null!=v&&B(n,["encryptionSpec"],v);const b=J(e,["partnerModelTuningSpec"]);null!=b&&B(n,["partnerModelTuningSpec"],b);const E=J(e,["customBaseModel"]);null!=E&&B(n,["customBaseModel"],E);const S=J(e,["experiment"]);null!=S&&B(n,["experiment"],S);const w=J(e,["labels"]);null!=w&&B(n,["labels"],w);const _=J(e,["outputUri"]);null!=_&&B(n,["outputUri"],_);const C=J(e,["pipelineJob"]);null!=C&&B(n,["pipelineJob"],C);const T=J(e,["serviceAccount"]);null!=T&&B(n,["serviceAccount"],T);const I=J(e,["tunedModelDisplayName"]);null!=I&&B(n,["tunedModelDisplayName"],I);const A=J(e,["veoTuningSpec"]);return null!=A&&B(n,["veoTuningSpec"],A),n}function Si(e,t){const n={},r=J(e,["gcsUri"]);null!=r&&B(n,["validationDatasetUri"],r);const o=J(e,["vertexDatasetResource"]);return null!=o&&B(n,["validationDatasetUri"],o),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi extends z{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new gr(Qt.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:ze.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Ei(e))}{const t=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>bi(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=vi(e);return l=V("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Ei(e))),B(t,["tuningJobs"],e)}return t}(e),n=new fn;return Object.assign(n,t),n})}{const t=yi(e);return l=V("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=J(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>bi(e))),B(t,["tuningJobs"],e)}return t}(e),n=new fn;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);i=V("{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=J(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);i=V("{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=gi(e,e);return o=V("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>Ei(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mi(e);return o=V("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=J(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=J(e,["name"]);null!=r&&B(t,["name"],r);const o=J(e,["metadata"]);null!=o&&B(t,["metadata"],o);const i=J(e,["done"]);null!=i&&B(t,["done"],i);const l=J(e,["error"]);return null!=l&&B(t,["error"],l),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _i{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ci="x-goog-upload-status";async function Ti(e,t,n){var r,o;let i=0,l=0,a=new Zt(new Response),s="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(s+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[Ci]));)d++,await Ii(p),p*=2;if(l+=u,"active"!==(null===(o=null==a?void 0:a.headers)||void 0===o?void 0:o[Ci]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function Ii(e){return new Promise(t=>setTimeout(t,e))}class Ai{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Ti(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Ci]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Ti(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Ci]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=X(i),a=new In;return Object.assign(a,l),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ki{create(e,t,n){return new Oi(e,t,n)}}class Oi{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ni="x-goog-api-key";class Pi{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Ni)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ni,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xi{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=G(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new Pi(this.apiKey);this.apiClient=new Uo({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Ai,downloader:new _i}),this.models=new Zo(this.apiClient),this.live=new Jo(this.apiClient,r,new ki),this.batches=new yr(this.apiClient),this.chats=new Rr(this.models,this.apiClient),this.caches=new Tr(this.apiClient),this.files=new Ur(this.apiClient),this.operations=new ei(this.apiClient),this.authTokens=new oi(this.apiClient),this.tunings=new wi(this.apiClient),this.fileSearchStores=new hi(this.apiClient)}}const Ri=({sources:e})=>a.jsxs("div",{className:"mt-2",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Sources:"}),a.jsx("div",{className:"flex flex-col items-start space-y-1",children:e.map((e,t)=>a.jsxs("a",{href:e.uri,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:text-blue-300 hover:underline truncate",title:e.title,children:[t+1,". ",e.title||e.uri]},t))})]}),Mi=()=>a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"})]}),Di=({message:e})=>{const t=e.sender===q.User,n=()=>a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center "+(t?"bg-blue-600 ml-3":"bg-gray-600 mr-3"),children:t?a.jsx(x,{className:"w-5 h-5 text-white"}):a.jsx(P,{className:"w-5 h-5 text-white"})});return a.jsxs("div",{className:"flex flex-col items-start my-2 "+(t?"items-end":"items-start"),children:[a.jsxs("div",{className:"flex w-full items-start "+(t?"justify-end":"justify-start"),children:[!t&&a.jsx(n,{}),a.jsx("div",{className:"px-4 py-3 rounded-2xl max-w-xs md:max-w-md lg:max-w-2xl break-words "+(t?"bg-blue-600 text-white rounded-br-none":"bg-gray-700 text-gray-200 rounded-bl-none"),children:e.isLoading?a.jsx(Mi,{}):a.jsx("p",{className:"whitespace-pre-wrap",children:e.text})}),t&&a.jsx(n,{})]}),!t&&e.sources&&e.sources.length>0&&a.jsx("div",{className:"max-w-xs md:max-w-md lg:max-w-2xl w-full ml-11",children:a.jsx(Ri,{sources:e.sources})})]})},Li=({onSendMessage:e,isLoading:t,onRequestLocation:n})=>{const[r,o]=p.useState("");return a.jsx("form",{onSubmit:n=>{n.preventDefault(),r.trim()&&!t&&(e(r.trim()),o(""))},className:"p-4 bg-gray-800 border-t border-gray-700",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:n,disabled:t,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2.5 rounded-full text-gray-400 hover:text-white hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Use my location",children:a.jsx(D,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Ask a question...",className:"w-full pl-12 pr-12 py-3 bg-gray-700 text-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200",disabled:t}),a.jsx("button",{type:"submit",disabled:t||!r.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2.5 rounded-full text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors","aria-label":"Send message",children:a.jsx(N,{className:"w-5 h-5"})})]})})},Ui=({suggestions:e,onSelect:t,isLoading:n})=>0===e.length?null:a.jsx("div",{className:"px-4 pt-3",children:a.jsx("div",{className:"max-w-4xl mx-auto flex flex-wrap gap-2",children:e.map((e,r)=>a.jsx("button",{onClick:()=>t(e),disabled:n,className:"px-4 py-2 text-sm font-medium text-blue-300 bg-gray-700/50 border border-gray-600 rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":`Send suggestion: ${e}`,children:e},r))})}),qi="Hello! I'm your AI assistant. How can I help you today? You can ask about products, services, or general questions.",Fi=()=>{try{return{initialMessage:qi,systemContext:""}}catch(e){return console.error("Could not read context:",e),{initialMessage:qi,systemContext:""}}},ji=()=>{try{return"Our main contact number is (555) 123-4567."}catch(e){return console.error("Could not retrieve phone number from context:",e),"I'm having trouble retrieving the exact phone number, but you can usually find it on the website's contact page."}},Hi=["centurylinkquote.com","www.centurylinkquote.com"];let Gi=[{url:"/home",title:"Welcome to our Website",content:"This is the homepage. It gives a general overview of our company. We specialize in widgets and gadgets. This page demonstrates how the VisitorSidekick AI assistant can be embedded on any website."},{url:"/products",title:"Our Products",content:"Our products page lists all available items, including the Super Widget (wid-123) and Mega Gadget (gad-456). The Super Widget is a high-performance widget for all your needs. The Mega Gadget is the latest and greatest in gadget technology."},{url:"/contact",title:"Contact Us",content:"Contact us at (555) 123-4567 for sales inquiries. You can also find us at 123 Demo St."}],zi=!1,Vi=!1;async function Bi(){if(!zi&&!Vi){Vi=!0;try{const e=window.visitorSidekickConfig;if((null==e?void 0:e.knowledgeBaseData)&&Array.isArray(e.knowledgeBaseData))return Gi=e.knowledgeBaseData,console.log(`VisitorSidekick: Loaded ${Gi.length} entries from inline knowledge base.`),zi=!0,void(Vi=!1);const t=null==e?void 0:e.knowledgeBaseUrl;if(!t)return console.warn("VisitorSidekick: Neither `knowledgeBaseData` nor `knowledgeBaseUrl` is configured. The `searchSite` tool will not work without a knowledge base."),Gi=[],zi=!0,void(Vi=!1);const n=await fetch(t);if(!n.ok)return console.error(`VisitorSidekick: knowledge.json file not found at ${t} or failed to load. Using fallback demo data.`),zi=!0,void(Vi=!1);const r=await n.json();Array.isArray(r)?(Gi=r,console.log(`VisitorSidekick: Loaded ${Gi.length} entries from knowledge base at ${t}.`)):console.error(`VisitorSidekick: Fetched knowledge base from ${t} is not a valid JSON array. Using fallback demo data.`)}catch(e){console.error("VisitorSidekick: Error loading or parsing knowledge.json. Using fallback demo data.",e)}finally{zi=!0,Vi=!1}}}const Ji=e=>{const t=e.toUpperCase();return ie[t]||ie.TYPE_UNSPECIFIED};const $i=new class{constructor(){this.functions=new Map,this.declarations=[],this.discoverFunctions(),Bi()}discoverFunctions(){try{const e=window.visitorSidekickApi;if(e&&Array.isArray(e.functions))for(const t of e.functions)if(t.declaration&&t.handler&&"function"==typeof t.handler){this.functions.set(t.declaration.name,t.handler);const e={...t.declaration,parameters:{...t.declaration.parameters,type:Ji(t.declaration.parameters.type),properties:Object.entries(t.declaration.parameters.properties).reduce((e,[t,n])=>(e[t]={...n,type:Ji(n.type)},e),{})}};this.declarations.push(e),console.log(`VisitorSidekick: Registered custom tool '${t.declaration.name}'.`)}}catch(e){console.error("VisitorSidekick: Error discovering custom functions.",e)}}hasFunction(e){return this.functions.has(e)}async execute(e,...t){const n=this.functions.get(e);if(n)try{return await n(...t)}catch(r){return console.error(`Error executing site-specific function '${e}':`,r),{error:`Failed to execute function ${e}.`}}return{error:`Function ${e} not found.`}}getToolDeclarations(){return this.declarations}},Wi=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[o,i]=p.useState([]),[l,s]=p.useState(null),[u,c]=p.useState([]),d=p.useRef(null),f=p.useRef([]),h=p.useRef(null),m=`You are a helpful and friendly AI assistant embedded on this website.\n  \n  Your primary goal is to help users find information, answer their questions, and guide them through the website. You should primarily use the 'searchSite' tool to find information from the website's knowledge base.\n  ${Hi.length>0?`\n\nWhen using your search tool, you MUST prioritize information from the following trusted domains: ${Hi.join(", ")}. Your answers should be based on content from these sites whenever possible.`:""}\n  Interaction Flow:\n  - If a user wants to call, provide the sales phone number using your tool.\n  - After providing information, you MUST suggest 2-3 short, relevant follow-up questions. Format them EXACTLY like this at the very end of your response:\n  Suggested Replies:\n  - "Tell me more about the Super Widget."\n  - "What's the best number to call?"`;p.useEffect(()=>{const e=[...[{name:"navigateToPage",description:"Navigates the user to a specific page on this website.",parameters:{type:ie.OBJECT,properties:{url:{type:ie.STRING,description:'The relative URL path to navigate to (e.g., "/products").'}},required:["url"]}},{name:"getProductInfo",description:"Gets details for a specific product using its identifier (e.g., SKU, name).",parameters:{type:ie.OBJECT,properties:{productIdentifier:{type:ie.STRING,description:"The product identifier, such as a SKU code or product name."}},required:["productIdentifier"]}},{name:"getPhoneNumber",description:"Retrieves the best sales phone number for the user to call. Use this when the user wants to call.",parameters:{type:ie.OBJECT,properties:{}}},{name:"searchSite",description:"Searches the current website for information about a given topic using its pre-compiled knowledge base. Use this as the primary tool for answering questions about this site.",parameters:{type:ie.OBJECT,properties:{query:{type:ie.STRING,description:"The search query or topic."}},required:["query"]}}],...$i.getToolDeclarations()];c([{functionDeclarations:e},{googleSearch:{}},{googleMaps:{}}])},[]),p.useEffect(()=>{try{d.current=new xi({apiKey:"AIzaSyDeQc4d-gZoXg0MWEoXV3Y_0aReSr_3nck"});const{initialMessage:e,systemContext:n}=Fi(),r=m+n;f.current=[{role:"user",parts:[{text:r}]}],t([{id:"init",sender:q.Bot,text:e}])}catch(e){console.error("Failed to initialize chat:",e),t([{id:"error-init",sender:q.Bot,text:"Sorry, I'm having trouble connecting right now. Please check the API key and refresh."}])}},[]),p.useEffect(()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth"})},[e,n]);const g=async e=>{var n,o,a;if(!d.current||0===u.length)return;r(!0),i([]);const s="bot-response-"+Date.now();t(e=>[...e,{id:s,sender:q.Bot,text:"",isLoading:!0}]),f.current.push({role:"user",parts:e});try{const e={model:"gemini-2.5-flash",contents:f.current,config:{tools:u}};l&&(e.config.toolConfig={googleMaps:{latLng:{latitude:l.latitude,longitude:l.longitude}}});const c=await d.current.models.generateContentStream(e);let p="",h=[],m=[],y=[];for await(const r of c){r.functionCalls&&(m=m.concat(r.functionCalls));const e=((null==(a=null==(o=null==(n=r.candidates)?void 0:n[0])?void 0:o.groundingMetadata)?void 0:a.groundingChunks)??[]).map(e=>{var t,n,r,o;return{uri:(null==(t=e.web)?void 0:t.uri)??(null==(n=e.maps)?void 0:n.uri)??"",title:(null==(r=e.web)?void 0:r.title)??(null==(o=e.maps)?void 0:o.title)??""}}).filter(e=>e.uri);e.length>0&&(h=[...new Map(h.concat(e).map(e=>[e.uri,e])).values()]);const i=r.text;i&&(p+=i,t(e=>e.map(e=>e.id===s?{...e,text:p,sources:h}:e)))}if(p&&y.push({text:p}),m.length>0){y.push({functionCall:m[0]}),f.current.push({role:"model",parts:y});const e=m[0];let n,r="";if("navigateToPage"===e.name){const{url:t}=e.args;window.parent.postMessage({type:"navigate",url:t},"*"),n={success:!0},r=`Taking you to the ${t.replace("/","")} page...`}else if("getProductInfo"===e.name){const{productIdentifier:t}=e.args;n=await(async e=>{console.log(`Getting info for product: ${e}`),await new Promise(e=>setTimeout(e,500));const t={"wid-123":{status:"available",name:"Super Widget",price:"$99.99",details:"A high-performance widget for all your needs."},"gad-456":{status:"available",name:"Mega Gadget",price:"$149.99",details:"The latest and greatest in gadget technology."},"wid-789":{status:"backordered",name:"Basic Widget",price:"$49.99",message:"This item is currently on backorder and will ship in 2-3 weeks."}},n=e.toLowerCase();return t[n]?t[n]:{status:"not_found",message:`Sorry, I couldn't find any information for a product with ID '${e}'.`}})(t),r=`Looking up info for ${t}...`}else if("getPhoneNumber"===e.name)n={phoneNumber:ji()},r="Finding the best number for you to call...";else if("searchSite"===e.name){const{query:t}=e.args;r=`Searching the site for "${t}"...`,n=await async function(e,t=2){if(await Bi(),!zi||0===Gi.length)return"I couldn't find a local knowledge base to search. The website owner needs to provide a valid `knowledge.json` file via the `knowledgeBaseUrl` configuration.";const n=e.toLowerCase(),r=n.split(/\s+/).filter(e=>e.length>2),o=Gi.map(e=>{const t=e.title.toLowerCase(),o=e.content.toLowerCase();let i=0;for(const n of r)t.includes(n)&&(i+=10);t.includes(n)&&(i+=20);for(const n of r)o.includes(n)&&(i+=1);return o.includes(n)&&(i+=5),{...e,score:i}}).filter(e=>e.score>0);o.sort((e,t)=>t.score-e.score);const i=o.slice(0,t);return 0===i.length?"I searched the website's knowledge base but couldn't find any information matching your query.":`I found the following information from the website's knowledge base:\n\n${i.map(e=>`Source URL: ${e.url}\nPage Title: ${e.title}\nContent Snippet: ${e.content}`).join("\n\n---\n\n")}`}(t)}else if($i.hasFunction(e.name)){const t=Object.values(e.args);r="Searching the site for you...",n=await $i.execute(e.name,...t)}t(e=>e.map(e=>e.id===s?{...e,text:r,isLoading:!1}:e)),await g([{functionResponse:{name:e.name,response:n}}])}else f.current.push({role:"model",parts:y}),((e,n=[],o)=>{const l=/Suggested Replies:([\s\S]*)/i,a=e.match(l);let s=e,u=[];a&&(s=e.replace(l,"").trim(),u=a[1].split("\n").map(e=>e.trim().replace(/^- "/,"").replace(/"$/,"")).filter(Boolean)),t(e=>e.map(e=>e.id===o?{...e,text:s,sources:n,isLoading:!1}:e)),i(u),r(!1)})(p,h,s)}catch(c){console.error("Gemini API error:",c),t(e=>e.map(e=>e.id===s?{...e,text:"Oops! Something went wrong.",isLoading:!1}:e)),r(!1)}},y=e=>{const n={id:Date.now().toString(),sender:q.User,text:e};t(e=>[...e,n]),g([{text:e}])};return a.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[a.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[e.map(e=>a.jsx(Di,{message:e},e.id)),a.jsx("div",{ref:h})]})}),a.jsxs("div",{className:"bg-gray-800 border-t border-gray-700",children:[a.jsx(Ui,{suggestions:o,onSelect:y,isLoading:n}),a.jsx(Li,{onSendMessage:y,isLoading:n,onRequestLocation:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const{latitude:n,longitude:r}=e.coords;s({latitude:n,longitude:r}),t(e=>[...e,{id:"geo-success-"+Date.now(),sender:q.Bot,text:' Location access granted. You can now ask questions like "What are some good restaurants nearby?"'}])},e=>{console.error("Geolocation error:",e);let n="Could not get your location. Please check your browser settings and permissions.";e.code===e.PERMISSION_DENIED&&(n="You have denied location access. To use this feature, please enable location permissions for this site in your browser settings."),t(e=>[...e,{id:"geo-error-"+Date.now(),sender:q.Bot,text:n}])}):t(e=>[...e,{id:"geo-unsupported-"+Date.now(),sender:q.Bot,text:"Geolocation is not supported by your browser."}])}})]})]})};function Yi(e){let t="";const n=e.byteLength;for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}const Ki=()=>{const[e,t]=p.useState("idle"),[n,r]=p.useState([]),[o,i]=p.useState(null),l=p.useRef(null),s=p.useRef(null),u=p.useRef(null),c=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=p.useRef(0),m=p.useRef(new Set),g=[{name:"navigateToPage",description:"Navigates the user to a specific page on the website.",parameters:{type:ie.OBJECT,properties:{url:{type:ie.STRING,description:'The relative URL path to navigate to (e.g., "/products").'}},required:["url"]}},{name:"getPhoneNumber",description:"Retrieves the best phone number for the user to call for assistance. Use this when the user asks to call.",parameters:{type:ie.OBJECT,properties:{}}}],y=async()=>{if(l.current||"idle"!==e)return;t("connecting"),i(null);const{systemContext:n,initialMessage:o}=Fi(),a="You are a friendly and helpful AI assistant. Your primary goal is to help users find information and guide them through the website, either by navigating them to a page or providing a contact phone number. You should introduce yourself at the start of the conversation. Keep your responses concise and conversational."+n;r([o.replace(/<br\s*\/?>/g,"\n")]);try{if(navigator.permissions){if("denied"===(await navigator.permissions.query({name:"microphone"})).state)return i("Microphone access is blocked. Please enable it in your browser settings."),t("error"),void r([])}const e=await navigator.mediaDevices.getUserMedia({audio:!0});f.current=e;const n=new xi({apiKey:"AIzaSyDeQc4d-gZoXg0MWEoXV3Y_0aReSr_3nck"}).live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[De.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Zephyr"}}},systemInstruction:a,inputAudioTranscription:{},outputAudioTranscription:{},tools:[{functionDeclarations:g}]},callbacks:{onopen:()=>{t("active"),s.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),u.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),d.current=s.current.createMediaStreamSource(e),c.current=s.current.createScriptProcessor(4096,1,1),c.current.onaudioprocess=e=>{const t=function(e){const t=e.length,n=new Int16Array(t);for(let r=0;r<t;r++)n[r]=32768*e[r];return{data:Yi(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}(e.inputBuffer.getChannelData(0));n.then(e=>{e.sendRealtimeInput({media:t})})},d.current.connect(c.current),c.current.connect(s.current.destination)},onmessage:async e=>{b(e),await E(e),v(e)},onerror:e=>{console.error("Live API Error:",e),i("An error occurred during the session."),t("error")},onclose:()=>{}}});l.current=await n}catch(p){console.error("Failed to start voice chat:",p),i("Could not access microphone. Please grant permission and try again."),t("error"),r([])}};p.useEffect(()=>(y(),()=>{var e,t,n,r,o,i,a,p;null==(e=l.current)||e.close(),l.current=null,null==(t=f.current)||t.getTracks().forEach(e=>e.stop()),f.current=null,null==(n=c.current)||n.disconnect(),null==(r=d.current)||r.disconnect(),"closed"!==(null==(o=s.current)?void 0:o.state)&&(null==(i=s.current)||i.close().catch(console.error)),"closed"!==(null==(a=u.current)?void 0:a.state)&&(null==(p=u.current)||p.close().catch(console.error)),c.current=null,d.current=null,s.current=null,u.current=null}),[]);const v=e=>{if(e.toolCall)for(const t of e.toolCall.functionCalls){let e;if("navigateToPage"===t.name){const{url:n}=t.args;window.parent.postMessage({type:"navigate",url:n},"*"),e={success:!0}}else if("getPhoneNumber"===t.name){e={phoneNumber:ji()}}e&&l.current&&l.current.sendToolResponse({functionResponses:{id:t.id,name:t.name,response:{result:JSON.stringify(e)}}})}},b=e=>{var t,n,o;let i="",l="";(null==(t=e.serverContent)?void 0:t.inputTranscription)?(i=e.serverContent.inputTranscription.text,l="You: "):(null==(n=e.serverContent)?void 0:n.outputTranscription)&&(i=e.serverContent.outputTranscription.text,l="Bot: "),i&&r(e=>{const t=e[e.length-1];return t&&t.startsWith(l)?[...e.slice(0,-1),t+i]:[...e,l+i]}),(null==(o=e.serverContent)?void 0:o.turnComplete)&&r(e=>[...e,"---"])},E=async e=>{var t,n,r,o;const i=null==(r=null==(n=null==(t=e.serverContent)?void 0:t.modelTurn)?void 0:n.parts[0])?void 0:r.inlineData.data;if(i&&u.current){const e=u.current;h.current=Math.max(h.current,e.currentTime);const t=await async function(e,t,n,r){const o=new Int16Array(e.buffer),i=o.length/r,l=t.createBuffer(r,i,n);for(let a=0;a<r;a++){const e=l.getChannelData(a);for(let t=0;t<i;t++)e[t]=o[t*r+a]/32768}return l}(function(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}(i),e,24e3,1),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.addEventListener("ended",()=>{m.current.delete(n)}),n.start(h.current),h.current+=t.duration,m.current.add(n)}if(null==(o=e.serverContent)?void 0:o.interrupted){for(const e of m.current.values())e.stop();m.current.clear(),h.current=0}},S=()=>{let t,n,r;switch(e){case"connecting":t=a.jsx(R,{className:"w-8 h-8 animate-pulse"}),n="Connecting...",r="text-gray-400";break;case"active":t=a.jsx(R,{className:"w-8 h-8"}),n="Listening...",r="text-green-400";break;case"error":t=a.jsx(M,{className:"w-8 h-8"}),n="Error",r="text-red-400";break;default:t=a.jsx(R,{className:"w-8 h-8"}),n="Initializing...",r="text-gray-400"}return a.jsxs("div",{className:`flex flex-col items-center ${r}`,children:[t,a.jsx("p",{className:"mt-2 text-sm font-medium",children:n})]})};return a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-between p-4 bg-gray-900",children:[a.jsx("div",{className:"w-full h-full bg-gray-800 rounded-lg p-4 overflow-y-auto text-gray-300",children:n.map((e,t)=>a.jsx("p",{className:`whitespace-pre-wrap ${e.startsWith("You:")?"text-blue-300":""} ${e.startsWith("Bot:")?"text-green-300":""}`,children:e},t))}),a.jsxs("div",{className:"mt-4 text-center h-16 flex flex-col justify-center items-center",children:[o&&a.jsx("p",{className:"text-red-400 mb-2 text-sm",children:o}),a.jsx(S,{})]})]})},Qi=({isOpen:e,onClose:t})=>{const[n,r]=p.useState(F.Text),o=({buttonMode:e,label:t})=>a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1 text-xs font-semibold rounded-md transition-colors "+(n===e?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"),children:t});return a.jsx("div",{id:"chat-widget-container",className:e?"open":"",children:a.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white chat-window-component",children:[a.jsx("header",{className:"bg-gray-800/80 backdrop-blur-sm border-b border-gray-700 p-3 shadow-md flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx(L,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-base font-bold text-gray-50",children:"AI Assistant"}),a.jsx("p",{className:"text-xs text-green-400",children:"Online"})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 bg-gray-900/50 p-1 rounded-lg",children:[a.jsx(o,{buttonMode:F.Text,label:"Text"}),a.jsx(o,{buttonMode:F.Voice,label:"Voice"})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-gray-700","aria-label":"Close chat",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:n===F.Text?a.jsx(Wi,{}):a.jsx(Ki,{})})]})})},Xi=()=>{const[e,t]=p.useState(!1),n=()=>{t(e=>!e)};return a.jsxs("div",{className:"font-sans",children:[a.jsx(U,{onClick:n,isOpen:e}),a.jsx(Qi,{isOpen:e,onClose:n})]})},Zi="visitor-sidekick-root",el=()=>{let e=document.getElementById(Zi);e||(e=document.createElement("div"),e.id=Zi,document.body.appendChild(e));const t=e.shadowRoot||e.attachShadow({mode:"open"});let n=t.getElementById("vs-mount-point");n||(n=document.createElement("div"),n.id="vs-mount-point",t.appendChild(n));const r=window.visitorSidekickConfig||{};if(r.cssContent){if(!t.getElementById("vs-inline-style")){const e=document.createElement("style");e.id="vs-inline-style",e.textContent=r.cssContent,t.appendChild(e)}}else{const e=r.cssUrl||"https://www.centurylinkquote.com/assets/visitor-sidekick/widget.css";if(!t.querySelector(`link[href="${e}"]`)){const n=document.createElement("link");n.rel="stylesheet",n.href=e,t.appendChild(n)}}O.createRoot(n).render(a.jsx(f.StrictMode,{children:a.jsx(Xi,{})}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",el):el();
